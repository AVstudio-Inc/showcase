import{r,K as w,f as i}from"./index-CaqiBWD3.js";import{r as R,X as b,Y as X,Z as x,_ as E,t as M,a as I,d as P,u as W}from"./editorApp-DZMui-50.js";import{g as Y}from"./getLocalUrlFromString-MtGJfgQO.js";var k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},j=function(e,a){return r.createElement(w,i(i({},e),{},{ref:a,icon:k}))},Z=r.forwardRef(j);const q=R()(b(t=>({xPanelStatus:"disconnected",lastErrorMessage:"",manualStartConnect:!1,updateXpanelStore:e=>{t(a=>({...a,...e}))}}),{name:"xpanelStore",storage:{getItem:E,setItem:x,removeItem:X}}),M.isEqual),F=({targetHtmlElement:t})=>{let e={left:0,top:0,right:0,bottom:0,width:0,height:0,deltaCenterX:0,deltaCenterY:0};if(!t)return e;const a=t.parentElement;if(a){const s=I.getState().editorZoom??1,o=t.getBoundingClientRect(),n=a.getBoundingClientRect(),c=(o.left-n.left)/s,u=(o.top-n.top)/s,d=(n.right-o.right)/s,l=(n.bottom-o.bottom)/s,g="offsetWidth"in t?t.offsetWidth:0,f="offsetHeight"in t?t.offsetHeight:0,h=n.left+n.width/2,p=n.top+n.height/2,v=o.left+o.width/2,C=o.top+o.height/2,m=(v-h)/s,S=(C-p)/s;e={left:c,top:u,right:d,bottom:l,width:g,height:f,deltaCenterX:m,deltaCenterY:S}}return e},N=()=>{const t=P(),e=r.useRef(t),a=W(o=>o.workingProject?.attributes.pages);r.useEffect(()=>{e.current=t},[t]);const s=r.useCallback(o=>{const n=Y(o);e.current(n)},[]);return r.useEffect(()=>{window.avgatorStudio={...window.avgatorStudio,navigate:e.current,navigateToPage:s}},[s,a]),e.current};export{Z as R,N as a,F as g,q as u};
