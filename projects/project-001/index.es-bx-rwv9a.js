import{r as y,R as F}from"./index-CaqiBWD3.js";var Y=function(){return(Y=Object.assign||function(o){for(var r,l=1,i=arguments.length;l<i;l++)for(var c in r=arguments[l])Object.prototype.hasOwnProperty.call(r,c)&&(o[c]=r[c]);return o}).apply(this,arguments)};function T(o,r,l,i,c){var n=l>0?Math.max(0,Math.min(l,-r)):Math.min(0,Math.max(l,-r)),f=Math.min(Math.max(o+l-n,i),c)-Math.min(Math.max(o,i),c);return[f,l-f]}function D(o,r,l){return Math.abs(r)===0&&Math.abs(l)>0||Math.sign(r)===Math.sign(l)?.3*o*Math.sign(l)*Math.log10(1+.5*Math.abs(l)/o):l}function P(o){return!!o&&o.scrollWidth>o.clientWidth}function W(o){return!!o&&o.scrollHeight>o.clientHeight}var k;function H(o){return typeof o=="function"}function A(o,r){var l,i,c=function(){for(var f=[],e=0;e<arguments.length;e++)f[e]=arguments[e];var t=Date.now()-l,u=H(r)?r():r||0;t<u&&t>=0?i=setTimeout(function(){return c.apply(void 0,f)},u-t):o.apply(void 0,f)},n=function(){for(var f=[],e=0;e<arguments.length;e++)f[e]=arguments[e];l=Date.now(),i=setTimeout(function(){return c.apply(void 0,f)},H(r)?r():r||0)};return n.clear=function(){clearTimeout(i)},n}function j(o){var r=y.useRef(o);return y.useEffect(function(){r.current=o},[o]),r}(function(o){o[o.Left=1]="Left",o[o.Middle=4]="Middle",o[o.Right=2]="Right"})(k||(k={}));var q=function(){function o(r,l){var i,c,n,f,e=this;this.getScrollMode=function(t){if(e.getOptions().overscroll&&e.reference.current&&t){var u=e.reference.current,a=u.scrollLeft,h=u.scrollTop,d=u.clientHeight,S=u.clientWidth,g=u.scrollHeight,M=u.scrollWidth;return t.left<0&&a>0||t.left>0&&a<M-S||t.top<0&&h>0||t.top>0&&h<g-d?"local":"global"}return"local"},this.clearStyles=function(){e.reference.current&&e.reference.current.childNodes.forEach(function(t,u){t.style.transition=e.originalStyles.transition[u],t.style.transform=e.originalStyles.transform[u],t.style.pointerEvents=e.originalStyles.pointerEvents[u]}),e.overflow.left=0,e.overflow.top=0,e.overflow.prevent=!1},this.inertia=function(t,u){var a=e.calculateScroll({left:e.inertiaSpeed.left*t,top:e.inertiaSpeed.top*t});e.inertiaSpeed.left=(a.left.local+a.left.overflow)/t*.95,e.inertiaSpeed.top=(a.top.local+a.top.overflow)/t*.95,e.applyScroll(a),Math.abs(e.inertiaSpeed.left)<.05&&Math.abs(e.inertiaSpeed.top)<.05&&u?.()},this.reference=r,this.options=l,this.originalStyles={transform:[],transition:[],pointerEvents:[]},this.overflow={left:0,top:0,prevent:!1},this.inertiaSpeed={left:0,top:0},this.mode=null,this.active=!1,this.loopedInertia=(i=this.inertia,n=!1,f={run:function(t){n=!1;var u=performance.now(),a=function(){f.cancel(),t?.()},h=function(d){n||(i(d-u,a),u=d,c=window.requestAnimationFrame(function(S){return h(S)}))};c=window.requestAnimationFrame(function(d){return h(d)})},cancel:function(){n=!0,window.cancelAnimationFrame(c)}}),this.debouncedClearStyles=A(this.clearStyles,300)}return o.prototype.getOptions=function(){return Y({inertia:!0,rubberBand:!0},this.options.current)},o.prototype.start=function(r){var l=this;this.active&&this.cancel(),this.mode=this.getScrollMode(r),this.reference.current&&this.reference.current.childNodes.forEach(function(i){i.addEventListener("click",l.preventEvent);var c=window.getComputedStyle(i),n=c.transform,f=c.transition,e=c.pointerEvents;l.originalStyles.transition.push(f),l.originalStyles.transform.push(n),l.originalStyles.pointerEvents.push(e),i.style.pointerEvents="none"}),this.active=!0},o.prototype.scroll=function(r){this.applyScroll(this.calculateScroll(r))},o.prototype.end=function(r,l){var i=this,c=this.getOptions().inertia,n=function(){i.cancel(),l?.()};this.inertiaSpeed.left=r?r.left:0,this.inertiaSpeed.top=r?r.top:0,c?this.loopedInertia.run(n):n()},o.prototype.cancel=function(){var r,l=this;(r=this.reference.current)===null||r===void 0||r.childNodes.forEach(function(i){i.removeEventListener("click",l.preventEvent)}),this.resetOverflow(),this.loopedInertia.cancel(),this.mode=null,this.active=!1},o.prototype.resetOverflow=function(){var r,l=this.overflow.left||this.overflow.top;l&&(this.overflow.prevent=!0,((r=this.reference.current)===null||r===void 0?void 0:r.childNodes).forEach(function(i){i.style.transform="translate3d(0px, 0px, 0px)",i.style.transition="300ms"})),l?this.debouncedClearStyles():this.clearStyles()},o.prototype.preventEvent=function(r){r.preventDefault(),r.stopImmediatePropagation()},o.prototype.applyScroll=function(r){var l=this,i=r.left,c=r.top;(i.global||c.global)&&window.scrollTo({left:window.scrollX+i.global,top:window.scrollY+c.global,behavior:"auto"}),this.reference.current&&(this.reference.current.scrollLeft+=i.local,this.reference.current.scrollTop+=c.local,this.overflow.prevent||!i.overflow&&!c.overflow||(this.overflow.left+=i.overflow,this.overflow.top+=c.overflow,this.reference.current.childNodes.forEach(function(n){n.style.transform="translate3d("+-l.overflow.left+"px, "+-l.overflow.top+"px, 0px)",n.style.transition="0ms"})))},o.prototype.calculateScroll=function(r){var l=this.getOptions().rubberBand,i={local:0,global:0,overflow:0},c={local:0,global:0,overflow:0};if(this.mode==="global")i.global=r.left,c.global=r.top;else if(this.reference.current){var n=this.reference.current,f=n.scrollLeft,e=n.scrollTop,t=n.scrollWidth,u=n.clientWidth,a=n.scrollHeight,h=n.clientHeight;if(P(this.reference.current)){var d=T(f,this.overflow.left,r.left,0,t-u),S=d[0],g=d[1];i.local=S,l&&(i.overflow=D(u,this.overflow.left,g))}if(W(this.reference.current)){var M=T(e,this.overflow.top,r.top,0,a-h);S=M[0],g=M[1],c.local=S,l&&(c.overflow=D(u,this.overflow.top,g))}}return{left:i,top:c}},o}();function B(o){o===void 0&&(o={mouseScroll:!0});var r,l,i,c,n=y.useRef(null),f=1/60*1e3,e=y.useRef({scrolling:!1,started:!1,pressed:!1,artificial:!1,mouse:!1}),t=y.useRef({active:{left:!1,top:!1},initialClick:{left:0,top:0},speedX:0,speedY:0,clientX:0,clientY:0}),u=y.useRef({body:{},reference:{}}),a=j(o),h=j(Y({activationDistance:20,cursor:!0,buttons:[k.Left]},(r=a.current.mouseScroll)!==null&&typeof r=="object"?a.current.mouseScroll:{})),d=y.useState("mouseScrollImplementation"in o&&o.mouseScrollImplementation?o.mouseScrollImplementation(n,h):function(s,p){return new q(s,p)}(n,h))[0],S=function(){var s=function(){window.requestAnimationFrame(function(){var p,v;(v=(p=a.current).onEndScroll)===null||v===void 0||v.call(p),e.current.started=!1,e.current.scrolling=!1,e.current.artificial=!1})};e.current.artificial?d.end({left:t.current.speedX,top:t.current.speedY},s):s()},g=function(s){var p,v,E=h.current.ignoreElements;a.current.mouseScroll&&function(O,X,L){if(L&&O&&X){var N=O.closest(L);return N===null||N.contains(X)}return!!(O&&X)}(s.target,n.current,E)&&(P(n.current)||W(n.current))&&h.current.buttons.indexOf(s.buttons)!==-1&&(p=s.clientX,v=s.clientY,t.current.speedY=0,t.current.speedX=0,t.current.clientX=p,t.current.clientY=v,t.current.active.left=!1,t.current.active.top=!1,t.current.initialClick.top=v,t.current.initialClick.left=p,e.current.mouse=!0,e.current.pressed=!0,d.cancel())},M=function(s){a.current.mouseScroll&&e.current.pressed&&e.current.mouse&&(function(p,v){var E=h.current,O=E.activationDistance,X=E.cursor;Math.abs(p-t.current.initialClick.left)>O&&(t.current.active.left=!0),Math.abs(v-t.current.initialClick.top)>O&&(t.current.active.top=!0);var L={left:t.current.active.left?t.current.clientX-p:0,top:t.current.active.top?t.current.clientY-v:0};d.active?e.current.pressed&&(t.current.speedX=L.left/f,t.current.speedY=L.top/f,t.current.clientX=p,t.current.clientY=v,d.scroll(L),window.requestAnimationFrame(function(){t.current.speedX=0,t.current.speedY=0})):(t.current.active.top||t.current.active.left)&&(d.start(L),t.current.clientX=p,t.current.clientY=v,e.current.artificial=!0,X&&(u.current.body.cursor=document.body.style.cursor,document.body.style.cursor="grabbing",n.current&&(u.current.reference.cursor=n.current.style.cursor,n.current.style.cursor="grabbing")),n.current&&(u.current.reference.userSelect=n.current.style.userSelect,n.current.style.userSelect="none"))}(s.clientX,s.clientY),s.preventDefault(),s.stopPropagation())},I=function(){e.current.pressed&&(d.active&&S(),e.current.pressed=!1,e.current.mouse=!1,R())},R=function(){h.current.cursor&&(document.body.style.cursor=u.current.body.cursor||"",n.current&&(n.current.style.cursor=u.current.reference.cursor||"")),n.current&&(n.current.style.userSelect=u.current.reference.userSelect||"")},C=function(){e.current.artificial=!1,e.current.pressed=!0},m=function(){e.current.pressed&&(e.current.started&&!e.current.scrolling&&S(),e.current.pressed=!1)},b=function(){var s,p;e.current.scrolling=!0,e.current.started?(p=(s=a.current).onScroll)===null||p===void 0||p.call(s):function(){var v,E;e.current.started=!0,(E=(v=a.current).onStartScroll)===null||E===void 0||E.call(v)}(),x()},x=(l=250,i=j(function(){var s=e.current,p=s.pressed,v=s.started,E=s.artificial;p||!v||E||S(),e.current.scrolling=!1}),c=j(l),y.useRef(A(function(){var s;(s=i.current)===null||s===void 0||s.call(i)},function(){return c.current})).current),w=y.useCallback(function(s){n.current!==s&&(n.current&&(n.current.removeEventListener("mousedown",g),n.current.removeEventListener("scroll",b),n.current.removeEventListener("touchstart",C)),n.current=s,n.current&&(n.current.addEventListener("mousedown",g,{passive:!1}),n.current.addEventListener("scroll",b,{passive:!1}),n.current.addEventListener("touchstart",C)))},[]);return y.useEffect(function(){return window.addEventListener("mouseup",I),window.addEventListener("mousemove",M),window.addEventListener("touchend",m),function(){window.removeEventListener("mouseup",I),window.removeEventListener("mousemove",M),window.removeEventListener("touchend",m),R()}},[]),{ref:w}}var G=y.forwardRef(function(o,r){var l,i,c=Y({mouseScrollImplementation:void 0},o),n=c.children,f=c.className,e=c.component,t=c.hideScrollbars,u=t===void 0||t,a=c.mouseScroll,h=a===void 0||a,d=c.mouseScrollImplementation,S=c.onStartScroll,g=c.onEndScroll,M=c.onScroll,I=function(m,b){var x={};for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&b.indexOf(w)<0&&(x[w]=m[w]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(w=Object.getOwnPropertySymbols(m);s<w.length;s++)b.indexOf(w[s])<0&&Object.prototype.propertyIsEnumerable.call(m,w[s])&&(x[w[s]]=m[w[s]])}return x}(c,["children","className","component","hideScrollbars","mouseScroll","mouseScrollImplementation","onStartScroll","onEndScroll","onScroll"]),R=e||"div",C=B({mouseScroll:h,mouseScrollImplementation:d,onStartScroll:S,onEndScroll:g,onScroll:M});return F.createElement(R,Y({className:(i=[f,"indiana-scroll-container",u&&"indiana-scroll-container--hide-scrollbars"],i.filter(function(m){return m}).join(" ")),ref:(l=[r,C.ref],function(m){l.forEach(function(b){typeof b=="function"?b(m):b!=null&&(b.current=m)})})},I),n)});export{G as S,B as m};
