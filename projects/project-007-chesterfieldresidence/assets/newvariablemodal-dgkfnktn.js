import{r as t,l as te,w as ce,h as J,z as pt,o as ae,C as ot,F as se,M as ht,W as Tt,v as yt,H as xe,k as bt,B as jt,x as lt,j as E,ac as $t,a as ze,R as Ft}from"./index-BWO8qd00.js";import{a2 as It,$ as de,a3 as it,a4 as Lt,a5 as Ht,a6 as At,a7 as Bt,a8 as st,a0 as zt,l as Kt,a as Ne,K as Ct,u as Ke,i as Ue,j as Ge,H as Vt,v as Ut,w as Gt,h as ct,F as be,M as Wt,B as ut,C as Xt,J as dt,L as Yt,O as qt,I as Fe,a9 as Jt,aa as Qt}from"./editorApp-BQHhAWNR.js";import{A as Zt,g as ea,e as ta,d as aa,c as Ie}from"./useCustomFonts--hfI8X19.js";import{g as na}from"./useWindowAvgatorStudioComposer-LuIThOM1.js";import{R as ra}from"./renderActionTag-DNrT7Mjk.js";import{c as oa}from"./variablesAPI-D_uU0Jyf.js";import{b as la}from"./localActiveAPI-Dv2O1BDy.js";import{S as ia}from"./index-DI0YWsM8.js";import{S as sa}from"./index-xMIPA-_5.js";var ft=t.createContext(null),ca=function(a){var r=a.prefixCls,n=a.className,o=a.style,i=a.children,u=a.containerRef,g=a.id,y=a.onMouseEnter,x=a.onMouseOver,b=a.onMouseLeave,f=a.onClick,d=a.onKeyDown,c=a.onKeyUp,s={onMouseEnter:y,onMouseOver:x,onMouseLeave:b,onClick:f,onKeyDown:d,onKeyUp:c};return t.createElement(t.Fragment,null,t.createElement("div",te({id:g,className:ce("".concat(r,"-content"),n),style:J({},o),"aria-modal":"true",role:"dialog",ref:u},s),i))};function vt(e){return typeof e=="string"&&String(Number(e))===e?(pt(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var mt={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function ua(e,a){var r,n,o,i,u=e.prefixCls,g=e.open,y=e.placement,x=e.inline,b=e.push,f=e.forceRender,d=e.autoFocus,c=e.keyboard,s=e.rootClassName,m=e.rootStyle,v=e.zIndex,h=e.className,l=e.id,C=e.style,R=e.motion,P=e.width,j=e.height,w=e.children,S=e.contentWrapperStyle,M=e.mask,D=e.maskClosable,$=e.maskMotion,F=e.maskClassName,I=e.maskStyle,N=e.afterOpenChange,H=e.onClose,X=e.onMouseEnter,O=e.onMouseOver,L=e.onMouseLeave,_=e.onClick,V=e.onKeyDown,le=e.onKeyUp,U=t.useRef(),A=t.useRef(),Y=t.useRef();t.useImperativeHandle(a,function(){return U.current});var ne=function(Z){var ue=Z.keyCode,ye=Z.shiftKey;switch(ue){case de.TAB:{if(ue===de.TAB){if(!ye&&document.activeElement===Y.current){var Oe;(Oe=A.current)===null||Oe===void 0||Oe.focus({preventScroll:!0})}else if(ye&&document.activeElement===A.current){var De;(De=Y.current)===null||De===void 0||De.focus({preventScroll:!0})}}break}case de.ESC:{H&&c&&(Z.stopPropagation(),H(Z));break}}};t.useEffect(function(){if(g&&d){var B;(B=U.current)===null||B===void 0||B.focus({preventScroll:!0})}},[g]);var re=t.useState(!1),z=ae(re,2),oe=z[0],q=z[1],p=t.useContext(ft),fe;b===!1?fe={distance:0}:b===!0?fe={}:fe=b||{};var ee=(r=(n=(o=fe)===null||o===void 0?void 0:o.distance)!==null&&n!==void 0?n:p==null?void 0:p.pushDistance)!==null&&r!==void 0?r:180,me=t.useMemo(function(){return{pushDistance:ee,push:function(){q(!0)},pull:function(){q(!1)}}},[ee]);t.useEffect(function(){if(g){var B;p==null||(B=p.push)===null||B===void 0||B.call(p)}else{var Z;p==null||(Z=p.pull)===null||Z===void 0||Z.call(p)}},[g]),t.useEffect(function(){return function(){var B;p==null||(B=p.pull)===null||B===void 0||B.call(p)}},[]);var ge=M&&t.createElement(ot,te({key:"mask"},$,{visible:g}),function(B,Z){var ue=B.className,ye=B.style;return t.createElement("div",{className:ce("".concat(u,"-mask"),ue,F),style:J(J({},ye),I),onClick:D&&g?H:void 0,ref:Z})}),G=typeof R=="function"?R(y):R,ie={};if(oe&&ee)switch(y){case"top":ie.transform="translateY(".concat(ee,"px)");break;case"bottom":ie.transform="translateY(".concat(-ee,"px)");break;case"left":ie.transform="translateX(".concat(ee,"px)");break;default:ie.transform="translateX(".concat(-ee,"px)");break}y==="left"||y==="right"?ie.width=vt(P):ie.height=vt(j);var he={onMouseEnter:X,onMouseOver:O,onMouseLeave:L,onClick:_,onKeyDown:V,onKeyUp:le},Le=t.createElement(ot,te({key:"panel"},G,{visible:g,forceRender:f,onVisibleChanged:function(Z){N==null||N(Z)},removeOnLeave:!1,leavedClassName:"".concat(u,"-content-wrapper-hidden")}),function(B,Z){var ue=B.className,ye=B.style;return t.createElement("div",te({className:ce("".concat(u,"-content-wrapper"),ue),style:J(J(J({},ie),ye),S)},It(e,{data:!0})),t.createElement(ca,te({id:l,containerRef:Z,prefixCls:u,className:h,style:C},he),w))}),ke=J({},m);return v&&(ke.zIndex=v),t.createElement(ft.Provider,{value:me},t.createElement("div",{className:ce(u,"".concat(u,"-").concat(y),s,(i={},se(i,"".concat(u,"-open"),g),se(i,"".concat(u,"-inline"),x),i)),style:ke,tabIndex:-1,ref:U,onKeyDown:ne},ge,t.createElement("div",{tabIndex:0,ref:A,style:mt,"aria-hidden":"true","data-sentinel":"start"}),Le,t.createElement("div",{tabIndex:0,ref:Y,style:mt,"aria-hidden":"true","data-sentinel":"end"})))}var da=t.forwardRef(ua),fa=function(a){var r=a.open,n=r===void 0?!1:r,o=a.prefixCls,i=o===void 0?"rc-drawer":o,u=a.placement,g=u===void 0?"right":u,y=a.autoFocus,x=y===void 0?!0:y,b=a.keyboard,f=b===void 0?!0:b,d=a.width,c=d===void 0?378:d,s=a.mask,m=s===void 0?!0:s,v=a.maskClosable,h=v===void 0?!0:v,l=a.getContainer,C=a.forceRender,R=a.afterOpenChange,P=a.destroyOnClose,j=a.onMouseEnter,w=a.onMouseOver,S=a.onMouseLeave,M=a.onClick,D=a.onKeyDown,$=a.onKeyUp,F=t.useState(!1),I=ae(F,2),N=I[0],H=I[1],X=t.useState(!1),O=ae(X,2),L=O[0],_=O[1];it(function(){_(!0)},[]);var V=L?n:!1,le=t.useRef(),U=t.useRef();it(function(){V&&(U.current=document.activeElement)},[V]);var A=function(z){var oe;if(H(z),R==null||R(z),!z&&U.current&&!(!((oe=le.current)===null||oe===void 0)&&oe.contains(U.current))){var q;(q=U.current)===null||q===void 0||q.focus({preventScroll:!0})}};if(!C&&!N&&!V&&P)return null;var Y={onMouseEnter:j,onMouseOver:w,onMouseLeave:S,onClick:M,onKeyDown:D,onKeyUp:$},ne=J(J({},a),{},{open:V,prefixCls:i,placement:g,autoFocus:x,keyboard:f,width:c,mask:m,maskClosable:h,inline:l===!1,afterOpenChange:A,ref:le},Y);return t.createElement(Lt,{open:V||C||N,autoDestroy:!1,getContainer:l,autoLock:m&&(V||N)},t.createElement(da,ne))},va=function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)a.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};Ht("default","large");var ma={distance:180};function qa(e){var a=e.width,r=e.height,n=e.size,o=n===void 0?"default":n,i=e.closable,u=i===void 0?!0:i,g=e.mask,y=g===void 0?!0:g,x=e.push,b=x===void 0?ma:x,f=e.closeIcon,d=f===void 0?t.createElement(Tt,null):f,c=e.bodyStyle,s=e.drawerStyle,m=e.className,v=e.visible,h=e.open,l=e.children,C=e.style,R=e.title,P=e.headerStyle,j=e.onClose,w=e.footer,S=e.footerStyle,M=e.prefixCls,D=e.getContainer,$=e.extra,F=e.afterVisibleChange,I=e.afterOpenChange,N=va(e,["width","height","size","closable","mask","push","closeIcon","bodyStyle","drawerStyle","className","visible","open","children","style","title","headerStyle","onClose","footer","footerStyle","prefixCls","getContainer","extra","afterVisibleChange","afterOpenChange"]),H=t.useContext(ht),X=H.getPopupContainer,O=H.getPrefixCls,L=H.direction,_=O("drawer",M),V=D===void 0&&X?function(){return X(document.body)}:D,le=u&&t.createElement("button",{type:"button",onClick:j,"aria-label":"Close",className:"".concat(_,"-close")},d);[["visible","open"],["afterVisibleChange","afterOpenChange"]].forEach(function(q){var p=ae(q,2);p[0],p[1]});function U(){return!R&&!u?null:t.createElement("div",{className:ce("".concat(_,"-header"),se({},"".concat(_,"-header-close-only"),u&&!R&&!$)),style:P},t.createElement("div",{className:"".concat(_,"-header-title")},le,R&&t.createElement("div",{className:"".concat(_,"-title")},R)),$&&t.createElement("div",{className:"".concat(_,"-extra")},$))}function A(){if(!w)return null;var q="".concat(_,"-footer");return t.createElement("div",{className:q,style:S},w)}var Y=ce(se({"no-mask":!y},"".concat(_,"-rtl"),L==="rtl"),m),ne=t.useMemo(function(){return a??(o==="large"?736:378)},[a,o]),re=t.useMemo(function(){return r??(o==="large"?736:378)},[r,o]),z={motionName:st(_,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},oe=function(p){return{motionName:st(_,"panel-motion-".concat(p)),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}};return t.createElement(At,null,t.createElement(Bt,{status:!0,override:!0},t.createElement(fa,te({prefixCls:_,onClose:j},N,{open:h??v,mask:y,push:b,width:ne,height:re,rootClassName:Y,getContainer:V,afterOpenChange:function(p){I==null||I(p),F==null||F(p)},maskMotion:z,motion:oe,rootStyle:C}),t.createElement("div",{className:"".concat(_,"-wrapper-body"),style:te({},s)},U(),t.createElement("div",{className:"".concat(_,"-body"),style:c},l),A()))))}var Me=t.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0});function Ve(e,a,r){return(e-a)/(r-a)}function We(e,a,r,n){var o=Ve(a,r,n),i={};switch(e){case"rtl":i.right="".concat(o*100,"%"),i.transform="translateX(50%)";break;case"btt":i.bottom="".concat(o*100,"%"),i.transform="translateY(50%)";break;case"ttb":i.top="".concat(o*100,"%"),i.transform="translateY(-50%)";break;default:i.left="".concat(o*100,"%"),i.transform="translateX(-50%)";break}return i}function Pe(e,a){return Array.isArray(e)?e[a]:e}var ga=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange"],ha=t.forwardRef(function(e,a){var r,n,o=e.prefixCls,i=e.value,u=e.valueIndex,g=e.onStartMove,y=e.style,x=e.render,b=e.dragging,f=e.onOffsetChange,d=yt(e,ga),c=t.useContext(Me),s=c.min,m=c.max,v=c.direction,h=c.disabled,l=c.range,C=c.tabIndex,R=c.ariaLabelForHandle,P=c.ariaLabelledByForHandle,j=c.ariaValueTextFormatterForHandle,w="".concat(o,"-handle"),S=function(I){h||g(I,u)},M=function(I){if(!h){var N=null;switch(I.which||I.keyCode){case de.LEFT:N=v==="ltr"||v==="btt"?-1:1;break;case de.RIGHT:N=v==="ltr"||v==="btt"?1:-1;break;case de.UP:N=v!=="ttb"?1:-1;break;case de.DOWN:N=v!=="ttb"?-1:1;break;case de.HOME:N="min";break;case de.END:N="max";break;case de.PAGE_UP:N=2;break;case de.PAGE_DOWN:N=-2;break}N!==null&&(I.preventDefault(),f(N,u))}},D=We(v,i,s,m),$=t.createElement("div",te({ref:a,className:ce(w,(r={},se(r,"".concat(w,"-").concat(u+1),l),se(r,"".concat(w,"-dragging"),b),r)),style:J(J({},D),y),onMouseDown:S,onTouchStart:S,onKeyDown:M,tabIndex:h?null:Pe(C,u),role:"slider","aria-valuemin":s,"aria-valuemax":m,"aria-valuenow":i,"aria-disabled":h,"aria-label":Pe(R,u),"aria-labelledby":Pe(P,u),"aria-valuetext":(n=Pe(j,u))===null||n===void 0?void 0:n(i)},d));return x&&($=x($,{index:u,prefixCls:o,value:i,dragging:b})),$}),ya=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"],ba=t.forwardRef(function(e,a){var r=e.prefixCls,n=e.style,o=e.onStartMove,i=e.onOffsetChange,u=e.values,g=e.handleRender,y=e.draggingIndex,x=yt(e,ya),b=t.useRef({});return t.useImperativeHandle(a,function(){return{focus:function(d){var c;(c=b.current[d])===null||c===void 0||c.focus()}}}),t.createElement(t.Fragment,null,u.map(function(f,d){return t.createElement(ha,te({ref:function(s){s?b.current[d]=s:delete b.current[d]},dragging:y===d,prefixCls:r,style:Pe(n,d),key:d,value:f,valueIndex:d,onStartMove:o,onOffsetChange:i,render:g},x))}))});function gt(e){var a="touches"in e?e.touches[0]:e;return{pageX:a.pageX,pageY:a.pageY}}function Ca(e,a,r,n,o,i,u,g,y){var x=t.useState(null),b=ae(x,2),f=b[0],d=b[1],c=t.useState(-1),s=ae(c,2),m=s[0],v=s[1],h=t.useState(r),l=ae(h,2),C=l[0],R=l[1],P=t.useState(r),j=ae(P,2),w=j[0],S=j[1],M=t.useRef(null),D=t.useRef(null);t.useEffect(function(){m===-1&&R(r)},[r,m]),t.useEffect(function(){return function(){document.removeEventListener("mousemove",M.current),document.removeEventListener("mouseup",D.current),document.removeEventListener("touchmove",M.current),document.removeEventListener("touchend",D.current)}},[]);var $=function(O,L){C.some(function(_,V){return _!==O[V]})&&(L!==void 0&&d(L),R(O),u(O))},F=function(O,L){if(O===-1){var _=w[0],V=w[w.length-1],le=n-_,U=o-V,A=L*(o-n);A=Math.max(A,le),A=Math.min(A,U);var Y=i(_+A);A=Y-_;var ne=w.map(function(q){return q+A});$(ne)}else{var re=(o-n)*L,z=xe(C);z[O]=w[O];var oe=y(z,re,O,"dist");$(oe.values,oe.value)}},I=t.useRef(F);I.current=F;var N=function(O,L){O.stopPropagation();var _=r[L];v(L),d(_),S(r);var V=gt(O),le=V.pageX,U=V.pageY,A=function(re){re.preventDefault();var z=gt(re),oe=z.pageX,q=z.pageY,p=oe-le,fe=q-U,ee=e.current.getBoundingClientRect(),me=ee.width,ge=ee.height,G;switch(a){case"btt":G=-fe/ge;break;case"ttb":G=fe/ge;break;case"rtl":G=-p/me;break;default:G=p/me}I.current(L,G)},Y=function ne(re){re.preventDefault(),document.removeEventListener("mouseup",ne),document.removeEventListener("mousemove",A),document.removeEventListener("touchend",ne),document.removeEventListener("touchmove",A),M.current=null,D.current=null,v(-1),g()};document.addEventListener("mouseup",Y),document.addEventListener("mousemove",A),document.addEventListener("touchend",Y),document.addEventListener("touchmove",A),M.current=A,D.current=Y},H=t.useMemo(function(){var X=xe(r).sort(function(L,_){return L-_}),O=xe(C).sort(function(L,_){return L-_});return X.every(function(L,_){return L===O[_]})?C:r},[r,C]);return[m,f,H,N]}function Sa(e){var a=e.prefixCls,r=e.style,n=e.start,o=e.end,i=e.index,u=e.onStartMove,g=t.useContext(Me),y=g.direction,x=g.min,b=g.max,f=g.disabled,d=g.range,c="".concat(a,"-track"),s=Ve(n,x,b),m=Ve(o,x,b),v=function(C){!f&&u&&u(C,-1)},h={};switch(y){case"rtl":h.right="".concat(s*100,"%"),h.width="".concat(m*100-s*100,"%");break;case"btt":h.bottom="".concat(s*100,"%"),h.height="".concat(m*100-s*100,"%");break;case"ttb":h.top="".concat(s*100,"%"),h.height="".concat(m*100-s*100,"%");break;default:h.left="".concat(s*100,"%"),h.width="".concat(m*100-s*100,"%")}return t.createElement("div",{className:ce(c,d&&"".concat(c,"-").concat(i+1)),style:J(J({},h),r),onMouseDown:v,onTouchStart:v})}function xa(e){var a=e.prefixCls,r=e.style,n=e.values,o=e.startPoint,i=e.onStartMove,u=t.useContext(Me),g=u.included,y=u.range,x=u.min,b=t.useMemo(function(){if(!y){if(n.length===0)return[];var f=o??x,d=n[0];return[{start:Math.min(f,d),end:Math.max(f,d)}]}for(var c=[],s=0;s<n.length-1;s+=1)c.push({start:n[s],end:n[s+1]});return c},[n,y,o,x]);return g?b.map(function(f,d){var c=f.start,s=f.end;return t.createElement(Sa,{index:d,prefixCls:a,style:Pe(r,d),start:c,end:s,key:d,onStartMove:i})}):null}function ka(e){var a=e.prefixCls,r=e.style,n=e.children,o=e.value,i=e.onClick,u=t.useContext(Me),g=u.min,y=u.max,x=u.direction,b=u.includedStart,f=u.includedEnd,d=u.included,c="".concat(a,"-text"),s=We(x,o,g,y);return t.createElement("span",{className:ce(c,se({},"".concat(c,"-active"),d&&b<=o&&o<=f)),style:J(J({},s),r),onMouseDown:function(v){v.stopPropagation()},onClick:function(){i(o)}},n)}function Ea(e){var a=e.prefixCls,r=e.marks,n=e.onClick,o="".concat(a,"-mark");return r.length?t.createElement("div",{className:o},r.map(function(i){var u=i.value,g=i.style,y=i.label;return t.createElement(ka,{key:u,prefixCls:o,style:g,value:u,onClick:n},y)})):null}function wa(e){var a=e.prefixCls,r=e.value,n=e.style,o=e.activeStyle,i=t.useContext(Me),u=i.min,g=i.max,y=i.direction,x=i.included,b=i.includedStart,f=i.includedEnd,d="".concat(a,"-dot"),c=x&&b<=r&&r<=f,s=J(J({},We(y,r,u,g)),typeof n=="function"?n(r):n);return c&&(s=J(J({},s),typeof o=="function"?o(r):o)),t.createElement("span",{className:ce(d,se({},"".concat(d,"-active"),c)),style:s})}function Ma(e){var a=e.prefixCls,r=e.marks,n=e.dots,o=e.style,i=e.activeStyle,u=t.useContext(Me),g=u.min,y=u.max,x=u.step,b=t.useMemo(function(){var f=new Set;if(r.forEach(function(c){f.add(c.value)}),n&&x!==null)for(var d=g;d<=y;)f.add(d),d+=x;return Array.from(f)},[g,y,x,n,r]);return t.createElement("div",{className:"".concat(a,"-step")},b.map(function(f){return t.createElement(wa,{prefixCls:a,key:f,value:f,style:o,activeStyle:i})}))}function Da(e,a,r,n,o,i){var u=t.useCallback(function(c){var s=isFinite(c)?c:e;return s=Math.min(a,c),s=Math.max(e,s),s},[e,a]),g=t.useCallback(function(c){if(r!==null){var s=e+Math.round((u(c)-e)/r)*r,m=function(C){return(String(C).split(".")[1]||"").length},v=Math.max(m(r),m(a),m(e)),h=Number(s.toFixed(v));return e<=h&&h<=a?h:null}return null},[r,e,a,u]),y=t.useCallback(function(c){var s=u(c),m=n.map(function(l){return l.value});r!==null&&m.push(g(c)),m.push(e,a);var v=m[0],h=a-e;return m.forEach(function(l){var C=Math.abs(s-l);C<=h&&(v=l,h=C)}),v},[e,a,n,r,u,g]),x=function c(s,m,v){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof m=="number"){var l,C=s[v],R=C+m,P=[];n.forEach(function(D){P.push(D.value)}),P.push(e,a),P.push(g(C));var j=m>0?1:-1;h==="unit"?P.push(g(C+j*r)):P.push(g(R)),P=P.filter(function(D){return D!==null}).filter(function(D){return m<0?D<=C:D>=C}),h==="unit"&&(P=P.filter(function(D){return D!==C}));var w=h==="unit"?C:R;l=P[0];var S=Math.abs(l-w);if(P.forEach(function(D){var $=Math.abs(D-w);$<S&&(l=D,S=$)}),l===void 0)return m<0?e:a;if(h==="dist")return l;if(Math.abs(m)>1){var M=xe(s);return M[v]=l,c(M,m-j,v,h)}return l}else{if(m==="min")return e;if(m==="max")return a}},b=function(s,m,v){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",l=s[v],C=x(s,m,v,h);return{value:C,changed:C!==l}},f=function(s){return i===null&&s===0||typeof i=="number"&&s<i},d=function(s,m,v){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",l=s.map(y),C=l[v],R=x(l,m,v,h);if(l[v]=R,o===!1){var P=i||0;v>0&&l[v-1]!==C&&(l[v]=Math.max(l[v],l[v-1]+P)),v<l.length-1&&l[v+1]!==C&&(l[v]=Math.min(l[v],l[v+1]-P))}else if(typeof i=="number"||i===null){for(var j=v+1;j<l.length;j+=1)for(var w=!0;f(l[j]-l[j-1])&&w;){var S=b(l,1,j);l[j]=S.value,w=S.changed}for(var M=v;M>0;M-=1)for(var D=!0;f(l[M]-l[M-1])&&D;){var $=b(l,-1,M-1);l[M-1]=$.value,D=$.changed}for(var F=l.length-1;F>0;F-=1)for(var I=!0;f(l[F]-l[F-1])&&I;){var N=b(l,-1,F-1);l[F-1]=N.value,I=N.changed}for(var H=0;H<l.length-1;H+=1)for(var X=!0;f(l[H+1]-l[H])&&X;){var O=b(l,1,H+1);l[H+1]=O.value,X=O.changed}}return{value:l[v],values:l}};return[y,d]}var Ra=t.forwardRef(function(e,a){var r,n=e.prefixCls,o=n===void 0?"rc-slider":n,i=e.className,u=e.style,g=e.disabled,y=g===void 0?!1:g,x=e.autoFocus,b=e.onFocus,f=e.onBlur,d=e.min,c=d===void 0?0:d,s=e.max,m=s===void 0?100:s,v=e.step,h=v===void 0?1:v,l=e.value,C=e.defaultValue,R=e.range,P=e.count,j=e.onChange,w=e.onBeforeChange,S=e.onAfterChange,M=e.allowCross,D=M===void 0?!0:M,$=e.pushable,F=$===void 0?!1:$,I=e.draggableTrack,N=e.reverse,H=e.vertical,X=e.included,O=X===void 0?!0:X,L=e.startPoint,_=e.trackStyle,V=e.handleStyle,le=e.railStyle,U=e.dotStyle,A=e.activeDotStyle,Y=e.marks,ne=e.dots,re=e.handleRender,z=e.tabIndex,oe=z===void 0?0:z,q=e.ariaLabelForHandle,p=e.ariaLabelledByForHandle,fe=e.ariaValueTextFormatterForHandle,ee=t.useRef(),me=t.useRef(),ge=t.useMemo(function(){return H?N?"ttb":"btt":N?"rtl":"ltr"},[N,H]),G=t.useMemo(function(){return isFinite(c)?c:0},[c]),ie=t.useMemo(function(){return isFinite(m)?m:100},[m]),he=t.useMemo(function(){return h!==null&&h<=0?1:h},[h]),Le=t.useMemo(function(){return F===!0?he:F>=0?F:!1},[F,he]),ke=t.useMemo(function(){var W=Object.keys(Y||{});return W.map(function(T){var k=Y[T],Q={value:Number(T)};return k&&bt(k)==="object"&&!t.isValidElement(k)&&("label"in k||"style"in k)?(Q.style=k.style,Q.label=k.label):Q.label=k,Q}).filter(function(T){var k=T.label;return k||typeof k=="number"}).sort(function(T,k){return T.value-k.value})},[Y]),B=Da(G,ie,he,ke,D,Le),Z=ae(B,2),ue=Z[0],ye=Z[1],Oe=zt(C,{value:l}),De=ae(Oe,2),Ce=De[0],St=De[1],ve=t.useMemo(function(){var W=Ce==null?[]:Array.isArray(Ce)?Ce:[Ce],T=ae(W,1),k=T[0],Q=k===void 0?G:k,K=Ce===null?[]:[Q];if(R){if(K=xe(W),P||Ce===void 0){var _e=P>=0?P+1:2;for(K=K.slice(0,_e);K.length<_e;){var we;K.push((we=K[K.length-1])!==null&&we!==void 0?we:G)}}K.sort(function(Se,pe){return Se-pe})}return K.forEach(function(Se,pe){K[pe]=ue(Se)}),K},[Ce,R,G,P,ue]),je=t.useRef(ve);je.current=ve;var Ee=function(T){return R?T:T[0]},He=function(T){var k=xe(T).sort(function(Q,K){return Q-K});j&&!Zt(k,je.current)&&j(Ee(k)),St(k)},Xe=function(T){if(!y){var k=0,Q=ie-G;ve.forEach(function(_e,we){var Se=Math.abs(T-_e);Se<=Q&&(Q=Se,k=we)});var K=xe(ve);K[k]=T,R&&!ve.length&&P===void 0&&K.push(T),w==null||w(Ee(K)),He(K),S==null||S(Ee(K))}},xt=function(T){T.preventDefault();var k=me.current.getBoundingClientRect(),Q=k.width,K=k.height,_e=k.left,we=k.top,Se=k.bottom,pe=k.right,nt=T.clientX,rt=T.clientY,Te;switch(ge){case"btt":Te=(Se-rt)/K;break;case"ttb":Te=(rt-we)/K;break;case"rtl":Te=(pe-nt)/Q;break;default:Te=(nt-_e)/Q}var Ot=G+Te*(ie-G);Xe(ue(Ot))},kt=t.useState(null),Ye=ae(kt,2),Ae=Ye[0],qe=Ye[1],Et=function(T,k){if(!y){var Q=ye(ve,T,k);w==null||w(Ee(ve)),He(Q.values),S==null||S(Ee(Q.values)),qe(Q.value)}};t.useEffect(function(){if(Ae!==null){var W=ve.indexOf(Ae);W>=0&&ee.current.focus(W)}qe(null)},[Ae]);var wt=t.useMemo(function(){return I&&he===null?!1:I},[I,he]),Mt=function(){S==null||S(Ee(je.current))},Dt=Ca(me,ge,ve,G,ie,ue,He,Mt,ye),$e=ae(Dt,4),Je=$e[0],Rt=$e[1],Be=$e[2],_t=$e[3],Qe=function(T,k){_t(T,k),w==null||w(Ee(je.current))},Ze=Je!==-1;t.useEffect(function(){if(!Ze){var W=ve.lastIndexOf(Rt);ee.current.focus(W)}},[Ze]);var Re=t.useMemo(function(){return xe(Be).sort(function(W,T){return W-T})},[Be]),Pt=t.useMemo(function(){return R?[Re[0],Re[Re.length-1]]:[G,Re[0]]},[Re,R,G]),et=ae(Pt,2),tt=et[0],at=et[1];t.useImperativeHandle(a,function(){return{focus:function(){ee.current.focus(0)},blur:function(){var T=document,k=T.activeElement;me.current.contains(k)&&(k==null||k.blur())}}}),t.useEffect(function(){x&&ee.current.focus(0)},[]);var Nt=t.useMemo(function(){return{min:G,max:ie,direction:ge,disabled:y,step:he,included:O,includedStart:tt,includedEnd:at,range:R,tabIndex:oe,ariaLabelForHandle:q,ariaLabelledByForHandle:p,ariaValueTextFormatterForHandle:fe}},[G,ie,ge,y,he,O,tt,at,R,oe,q,p,fe]);return t.createElement(Me.Provider,{value:Nt},t.createElement("div",{ref:me,className:ce(o,i,(r={},se(r,"".concat(o,"-disabled"),y),se(r,"".concat(o,"-vertical"),H),se(r,"".concat(o,"-horizontal"),!H),se(r,"".concat(o,"-with-marks"),ke.length),r)),style:u,onMouseDown:xt},t.createElement("div",{className:"".concat(o,"-rail"),style:le}),t.createElement(xa,{prefixCls:o,style:_,values:Re,startPoint:L,onStartMove:wt?Qe:null}),t.createElement(Ma,{prefixCls:o,marks:ke,dots:ne,style:U,activeStyle:A}),t.createElement(ba,{ref:ee,prefixCls:o,style:V,values:Be,draggingIndex:Je,onStartMove:Qe,onOffsetChange:Et,onFocus:b,onBlur:f,handleRender:re}),t.createElement(Ea,{prefixCls:o,marks:ke,onClick:Xe})))}),_a=t.forwardRef(function(e,a){var r=e.open,n=t.useRef(null),o=t.useRef(null);function i(){lt.cancel(o.current),o.current=null}function u(){o.current=lt(function(){var g;(g=n.current)===null||g===void 0||g.forcePopupAlign(),o.current=null})}return t.useEffect(function(){return r?u():i(),i},[r,e.title]),t.createElement(Kt,te({ref:jt(n,a)},e))}),Pa=function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)a.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r},Ja=t.forwardRef(function(e,a){var r=t.useContext(ht),n=r.getPrefixCls,o=r.direction,i=r.getPopupContainer,u=t.useState({}),g=ae(u,2),y=g[0],x=g[1],b=function(S,M){x(function(D){return te(te({},D),se({},S,M))})},f=function(S,M){return S||(M?o==="rtl"?"left":"right":"top")},d=e.prefixCls,c=e.range,s=e.className,m=Pa(e,["prefixCls","range","className"]),v=n("slider",d),h=ce(s,se({},"".concat(v,"-rtl"),o==="rtl"));o==="rtl"&&!m.vertical&&(m.reverse=!m.reverse);var l=t.useMemo(function(){return c?bt(c)==="object"?[!0,c.draggableTrack]:[!0,!1]:[!1]},[c]),C=ae(l,2),R=C[0],P=C[1],j=function(S,M){var D,$=M.index,F=M.dragging,I=n(),N=e.tooltip,H=N===void 0?{}:N,X=e.vertical,O=te({formatter:(D=e.tipFormatter)!==null&&D!==void 0?D:function(z){return typeof z=="number"?z.toString():""},open:e.tooltipVisible,placement:e.tooltipPlacement,getPopupContainer:e.getTooltipPopupContainer},H),L=O.open,_=O.placement,V=O.getPopupContainer,le=O.prefixCls,U=O.formatter,A=U?y[$]||F:!1,Y=L||L===void 0&&A,ne=te(te({},S.props),{onMouseEnter:function(){return b($,!0)},onMouseLeave:function(){return b($,!1)}}),re=n("tooltip",le);return t.createElement(_a,{prefixCls:re,title:U?U(M.value):"",open:Y,placement:f(_,X),transitionName:"".concat(I,"-zoom-down"),key:$,overlayClassName:"".concat(v,"-tooltip"),getPopupContainer:V||i},t.cloneElement(S,ne))};return t.createElement(Ra,te({},m,{step:m.step,range:R,draggableTrack:P,className:h,ref:a,prefixCls:v,handleRender:j}))});const Qa=({type:e,updatedGuides:a})=>{const r=Ne.getState().workingProject,n=r==null?void 0:r.id,o=(r==null?void 0:r.attributes.guides)??{};if(!n)throw new Error("No project id found");return Ct({projectId:n,inputData:{guides:{...o,[e]:a}}})},Za=()=>{const e=()=>{var r;const a=(r=Ne.getState().workingProject)==null?void 0:r.id;if(!a)throw new Error("No project id found");return Ct({projectId:a,inputData:{guides:{vertical:[],horizontal:[]}}})};return ea({icon:E.jsx($t,{}),title:"Remove all guides?",content:"Please confirm deleting all guides",okText:"Delete",cancelText:"Cancel",okButtonProps:{danger:!0},onOk:()=>e(),onCancel:()=>{}})},en=({editorRenderFrameRef:e})=>{const[a,r]=t.useState(null),[n,o]=t.useState(null),i=Ke(f=>f.guiFrameWidth),u=Ke(f=>f.guiFrameHeight),[g,y]=t.useState({left:0,top:0}),x=Ne(f=>{var d;return(d=f.workingProject)==null?void 0:d.attributes.guides});t.useEffect(()=>{if(!a||!n)return;const{horizontal:f=[],vertical:d=[]}=x??{};a.loadGuides(d),n.loadGuides(f)},[a,n,x]),t.useEffect(()=>{const f=()=>{let{left:c,top:s}=na({targetHtmlElement:e.current});c=c*-1,s=s*-1,y({left:c,top:s})};window.addEventListener("resize",f);const d=new ResizeObserver(f);return e.current&&d.observe(e.current),()=>{window.removeEventListener("resize",f),d.disconnect()}},[e]),t.useEffect(()=>{a==null||a.resize(),n==null||n.resize()},[i,u,a,n]);const b=t.useCallback(({left:f,top:d})=>{!n||!a||(n.scroll(f),a.scrollGuides(f),a.scroll(d),n.scrollGuides(d),a.resize(),n.resize())},[a,n]);return t.useEffect(()=>{const{top:f,left:d}=g;b({top:f,left:d})},[g,b]),{setRulerLeftInstance:r,setRulerTopInstance:o,handleScrollGuides:b}},Na=async()=>{const e=await Ue.get("/api/gettestdevices",{headers:Ge()}).then(n=>{var o;return(o=n==null?void 0:n.data)!=null&&o.data?n.data.data:null}).catch(n=>{console.log("Get test devices error occurred:",n)}),{attributes:{userDefinedTestDevices:a=[],predefinedTestDevices:r=[]}}=e??{};return{userDefinedTestDevices:a,predefinedTestDevices:r}},Oa=async e=>{var n;const r=(n=Ta.getState().userDefinedTestDevices.find(o=>o.uid===e))==null?void 0:n.id;if(!r)throw new Error("Test device to delete not found");return Ue.delete(`/api/test-devices/${r}`,{headers:Ge()})},pa=async e=>{const a=Vt(),r=await Ue.post("/api/test-devices/?populate=device",{data:{device:{...e,uid:a}}},{headers:Ge()}).then(i=>i.data.data).catch(i=>{console.log("Add test device error occurred:",i)}),{device:n,...o}=r.attributes;return{...n,...o}},Ta=Ut()((e,a)=>({userDefinedTestDevices:[],predefinedTestDevices:[],fetchTestDevices:async()=>{const{userDefinedTestDevices:r,predefinedTestDevices:n}=await Na();e({userDefinedTestDevices:r,predefinedTestDevices:n})},removeUserTestDevice:async r=>{await Oa(r).then(()=>{const o=a().userDefinedTestDevices.filter(i=>i.uid!==r);e({userDefinedTestDevices:o})}).catch(n=>{console.log(n),ze.error("Error while deleting test device")})},createUserTestDevice:async r=>{const n=await pa(r);e(i=>({userDefinedTestDevices:[...i.userDefinedTestDevices,n]}));const o=Ke.getState().updateEnvStore;o({selectedTestDevice:n})}}),Gt.isEqual);var ja="details_detailsBox__1xcwu3l0",$a="details_summaryBox__1xcwu3l1",Fa="details_summaryIconHolder__1xcwu3l2",Ia="details_openStateIcon__1xcwu3l3",La="details_closedStateIcon__1xcwu3l4",Ha="details_contentBox__1xcwu3l5";const tn=Ft.memo(({children:e,summary:a,initialOpen:r=!1})=>E.jsxs("details",{open:r,className:ja,children:[E.jsxs("summary",{className:$a,children:[E.jsxs("div",{className:Fa,children:[E.jsx(ta,{className:La}),E.jsx(aa,{className:Ia})]}),a]}),E.jsx("div",{className:Ha,children:e})]})),Aa=({pageId:e})=>Ne(r=>{var n;return(n=r.workingProject)==null?void 0:n.attributes.pages.data.find(o=>String(o.id)===String(e))}),an=({pageId:e})=>{var r;return(r=Ne.getState().workingProject)==null?void 0:r.attributes.pages.data.find(n=>String(n.id)===String(e))},nn=({setNewVariableModalVisible:e,isParameterCreation:a})=>{const{projectId:r}=ct(),{pageId:n}=ct(),o=Aa({pageId:n}),i=Ne(h=>h.workingProject),u=(i==null?void 0:i.attributes.variables)||[],g=(o==null?void 0:o.attributes.parameters)||[],{parameters:y}=(o==null?void 0:o.attributes)||{},[x]=be.useForm(),b=()=>{x.submit()},[f,d]=t.useState(!1),c=({type:h,defaultValue_boolean:l,defaultValue_number:C,defaultValue_string:R,name:P,joinValueSetter_signal_fb:j,waitForLoadingUi:w})=>{let S={name:P,type:h,joinValueSetter_signal_fb:j};switch(S.type){case"boolean":S={...S,defaultValue:l==="true",waitForLoadingUi:w};break;case"string":S={...S,defaultValue:R};break;case"number":S={...S,defaultValue:C};break}if(d(!0),a){const M=S;la({newPageAttributes:{parameters:[...y||[],M]},pageId:n}).then(()=>{x.resetFields(),e(!1),d(!1),ze.success("Parameter created successfully")})}else oa({newVariable:S,projectId:r}).then(()=>{e(!1),d(!1),ze.success("Variable created successfully")})},s={name:a?"newParameter":"newVariable",type:"boolean",defaultValue_boolean:"false",defaultValue_number:0,defaultValue_string:"",joinValueSetter_signal_fb:"",waitForLoadingUi:!1},[m,v]=t.useState(s);return E.jsx(E.Fragment,{children:E.jsx(Wt,{maskClosable:!1,title:a?"Add new parameter":"Add new variable",open:!0,width:"50vw",onOk:b,onCancel:()=>e(!1),footer:[E.jsx(ut,{onClick:()=>e(!1),children:"Cancel"},"back"),E.jsx(ut,{loading:f,type:"primary",onClick:b,children:a?"Add new parameter":"Add new variable"},"submit")],children:E.jsxs(be,{onValuesChange:h=>v({...m,...h}),labelCol:{xs:{span:9}},wrapperCol:{xs:{span:12}},form:x,initialValues:s,onFinish:c,scrollToFirstError:!0,children:[E.jsx(be.Item,{colon:!1,name:"name",label:"Name",rules:[{required:!0,message:"This field is required."},()=>({validator(h,l){const C=a?g:u;return Promise.all([Xt({input:l,searchArray:C,searchKey:"name"}),dt(l),Yt(l),qt(l)])}})],children:E.jsx(Fe,{spellCheck:!1})}),E.jsx(be.Item,{colon:!1,name:"type",label:"Type",rules:[{required:!1}],children:E.jsxs(Ie.Group,{className:"radioFullWidth",buttonStyle:"solid",children:[E.jsx(Ie.Button,{value:"boolean",children:"Boolean"}),E.jsx(Ie.Button,{value:"string",children:"String"}),E.jsx(Ie.Button,{value:"number",children:"Number"})]})}),m.type==="string"&&E.jsx(be.Item,{colon:!1,name:"defaultValue_string",label:"Default Value",children:E.jsx(Fe,{spellCheck:!1})}),m.type==="boolean"&&E.jsxs(E.Fragment,{children:[E.jsx(be.Item,{colon:!1,name:"defaultValue_boolean",label:"Default Value",children:E.jsx(ia,{block:!0,options:["true","false"]})}),E.jsx(be.Item,{label:"Use for loading UI (exprerimental)",name:"waitForLoadingUi",colon:!1,required:!1,valuePropName:"checked",children:E.jsx(sa,{})})]}),m.type==="number"&&E.jsx(be.Item,{colon:!1,name:"defaultValue_number",initialValue:0,label:"Default Value",rules:[()=>({validator(h,l){return Promise.all([Jt(l),Qt(l)])}})],children:E.jsx(Fe,{style:{width:"100%"}})}),!a&&m.type&&E.jsx(be.Item,{extra:E.jsx(E.Fragment,{children:"Use signal feedback to modify variable"}),colon:!1,name:"joinValueSetter_signal_fb",label:E.jsx(E.Fragment,{children:"Set value Signal "}),rules:[()=>({validator(h,l){return dt(l)}})],children:E.jsx(Fe,{suffix:E.jsx("div",{style:{marginRight:-5,marginTop:-2},children:E.jsx(ra,{style:{margin:0},type:m.type,sub:"FB"})}),spellCheck:!1})})]})})})};export{tn as D,nn as N,Ja as S,Aa as a,qa as b,Qa as c,en as d,an as g,Za as h,Ta as u};
