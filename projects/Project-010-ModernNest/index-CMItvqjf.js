import{r,I as nt,_ as Fe,bu as qe,bv as ze,dq as rt,c as P,a as p,by as ge,ch as at,c6 as Oe,bA as it,bD as ne,bB as He,dr as ye,c5 as ut,c2 as me,C as ot,di as st,ds as lt,dt as ct,du as ft,dv as Ie,cX as $e,cm as Be,cn as Ae,dd as dt,dw as mt}from"./main-DkRMjw9y.js";var vt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},gt=function(n,t){return r.createElement(nt,Fe(Fe({},n),{},{ref:t,icon:vt}))},pt=r.forwardRef(gt);function Ee(){return typeof BigInt=="function"}function T(e){var n=e.trim(),t=n.startsWith("-");t&&(n=n.slice(1)),n=n.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),n.startsWith(".")&&(n="0".concat(n));var i=n||"0",a=i.split("."),c=a[0]||"0",N=a[1]||"0";c==="0"&&N==="0"&&(t=!1);var d=t?"-":"";return{negative:t,negativeStr:d,trimStr:i,integerStr:c,decimalStr:N,fullStr:"".concat(d).concat(i)}}function we(e){var n=String(e);return!Number.isNaN(Number(n))&&n.includes("e")}function re(e){var n=String(e);if(we(e)){var t=Number(n.slice(n.indexOf("e-")+2)),i=n.match(/\.(\d+)/);return i?.[1]&&(t+=i[1].length),t}return n.includes(".")&&xe(n)?n.length-n.indexOf(".")-1:0}function pe(e){var n=String(e);if(we(e)){if(e>Number.MAX_SAFE_INTEGER)return String(Ee()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(Ee()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);n=e.toFixed(re(n))}return T(n).fullStr}function xe(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}function Pe(e){var n=typeof e=="number"?pe(e):T(e).fullStr,t=n.includes(".");return t?T(n.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}var St=function(){function e(n){if(ze(this,e),this.origin="",this.number=void 0,this.empty=void 0,!n&&n!==0||!String(n).trim()){this.empty=!0;return}this.origin=String(n),this.number=Number(n)}return qe(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var i=Number(t);if(Number.isNaN(i))return this;var a=this.number+i;if(a>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var c=Math.max(re(this.number),re(i));return new e(a.toFixed(c))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toNumber()===t?.toNumber()}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t?this.isInvalidate()?"":pe(this.number):this.origin}}]),e}(),Nt=function(){function e(n){if(ze(this,e),this.origin="",this.negative=void 0,this.integer=void 0,this.decimal=void 0,this.decimalLen=void 0,this.empty=void 0,this.nan=void 0,!n&&n!==0||!String(n).trim()){this.empty=!0;return}if(this.origin=String(n),n==="-"){this.nan=!0;return}var t=n;if(we(t)&&(t=Number(t)),t=typeof t=="string"?t:pe(t),xe(t)){var i=T(t);this.negative=i.negative;var a=i.trimStr.split(".");this.integer=BigInt(a[0]);var c=a[1]||"0";this.decimal=BigInt(c),this.decimalLen=c.length}else this.nan=!0}return qe(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(t){var i="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(t,"0"));return BigInt(i)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var i=new e(t);if(i.isInvalidate())return this;var a=Math.max(this.getDecimalStr().length,i.getDecimalStr().length),c=this.alignDecimal(a),N=i.alignDecimal(a),d=(c+N).toString(),h=T(d),S=h.negativeStr,m=h.trimStr,g="".concat(S).concat(m.padStart(a+1,"0"));return new e("".concat(g.slice(0,-a),".").concat(g.slice(-a)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toString()===t?.toString()}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t?this.isInvalidate()?"":T("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}();function x(e){return Ee()?new Nt(e):new St(e)}function ve(e,n,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";var a=T(e),c=a.negativeStr,N=a.integerStr,d=a.decimalStr,h="".concat(n).concat(d),S="".concat(c).concat(N);if(t>=0){var m=Number(d[t]);if(m>=5&&!i){var g=x(e).add("".concat(c,"0.").concat("0".repeat(t)).concat(10-m));return ve(g.toString(),n,t,i)}return t===0?S:"".concat(S).concat(n).concat(d.padEnd(t,"0").slice(0,t))}return h===".0"?S:"".concat(S).concat(h)}var ht=200,bt=600;function yt(e){var n=e.prefixCls,t=e.upNode,i=e.downNode,a=e.upDisabled,c=e.downDisabled,N=e.onStep,d=r.useRef(),h=r.useRef();h.current=N;var S=function(I,V){I.preventDefault(),h.current(V);function F(){h.current(V),d.current=setTimeout(F,ht)}d.current=setTimeout(F,bt)},m=function(){clearTimeout(d.current)};if(r.useEffect(function(){return m},[]),rt())return null;var g="".concat(n,"-handler"),b=P(g,"".concat(g,"-up"),p({},"".concat(g,"-up-disabled"),a)),w=P(g,"".concat(g,"-down"),p({},"".concat(g,"-down-disabled"),c)),M={unselectable:"on",role:"button",onMouseUp:m,onMouseLeave:m};return r.createElement("div",{className:"".concat(g,"-wrap")},r.createElement("span",ge({},M,{onMouseDown:function(I){S(I,!0)},"aria-label":"Increase Value","aria-disabled":a,className:b}),t||r.createElement("span",{unselectable:"on",className:"".concat(n,"-handler-up-inner")})),r.createElement("span",ge({},M,{onMouseDown:function(I){S(I,!1)},"aria-label":"Decrease Value","aria-disabled":c,className:w}),i||r.createElement("span",{unselectable:"on",className:"".concat(n,"-handler-down-inner")})))}function It(e,n){var t=r.useRef(null);function i(){try{var c=e.selectionStart,N=e.selectionEnd,d=e.value,h=d.substring(0,c),S=d.substring(N);t.current={start:c,end:N,value:d,beforeTxt:h,afterTxt:S}}catch{}}function a(){if(e&&t.current&&n)try{var c=e.value,N=t.current,d=N.beforeTxt,h=N.afterTxt,S=N.start,m=c.length;if(c.endsWith(h))m=c.length-t.current.afterTxt.length;else if(c.startsWith(d))m=d.length;else{var g=d[S-1],b=c.indexOf(g,S-1);b!==-1&&(m=b+1)}e.setSelectionRange(m,m)}catch(w){at(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(w.message))}}return[i,a]}const Et=function(){var e=r.useRef(0),n=function(){Oe.cancel(e.current)};return r.useEffect(function(){return n},[]),function(t){n(),e.current=Oe(function(){t()})}};var wt=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],Te=function(n,t){return n||t.isEmpty()?t.toString():t.toNumber()},Ue=function(n){var t=x(n);return t.isInvalidate()?null:t},Le=r.forwardRef(function(e,n){var t,i=e.prefixCls,a=i===void 0?"rc-input-number":i,c=e.className,N=e.style,d=e.min,h=e.max,S=e.step,m=S===void 0?1:S,g=e.defaultValue,b=e.value,w=e.disabled,M=e.readOnly,C=e.upHandler,I=e.downHandler,V=e.keyboard,F=e.controls,ae=F===void 0?!0:F,j=e.stringMode,U=e.parser,y=e.formatter,O=e.precision,o=e.decimalSeparator,q=e.onChange,W=e.onInput,X=e.onPressEnter,B=e.onStep,Y=it(e,wt),ie="".concat(a,"-input"),_=r.useRef(null),z=r.useState(!1),ue=ne(z,2),oe=ue[0],se=ue[1],E=r.useRef(!1),$=r.useRef(!1),A=r.useRef(!1),le=r.useState(function(){return x(b??g)}),ce=ne(le,2),f=ce[0],fe=ce[1];function J(s){b===void 0&&fe(s)}var H=r.useCallback(function(s,u){if(!u)return O>=0?O:Math.max(re(s),re(m))},[O,m]),L=r.useCallback(function(s){var u=String(s);if(U)return U(u);var v=u;return o&&(v=v.replace(o,".")),v.replace(/[^\w.-]+/g,"")},[U,o]),Q=r.useRef(""),de=r.useCallback(function(s,u){if(y)return y(s,{userTyping:u,input:String(Q.current)});var v=typeof s=="number"?pe(s):s;if(!u){var l=H(v,u);if(xe(v)&&(o||l>=0)){var R=o||".";v=ve(v,R,l)}}return v},[y,H,o]),Se=r.useState(function(){var s=g??b;return f.isInvalidate()&&["string","number"].includes(He(s))?Number.isNaN(s)?"":s:de(f.toString(),!1)}),Z=ne(Se,2),k=Z[0],D=Z[1];Q.current=k;function ee(s,u){D(de(s.isInvalidate()?s.toString(!1):s.toString(!u),u))}var K=r.useMemo(function(){return Ue(h)},[h,O]),G=r.useMemo(function(){return Ue(d)},[d,O]),Ce=r.useMemo(function(){return!K||!f||f.isInvalidate()?!1:K.lessEquals(f)},[K,f]),De=r.useMemo(function(){return!G||!f||f.isInvalidate()?!1:f.lessEquals(G)},[G,f]),Ke=It(_.current,oe),Re=ne(Ke,2),Ge=Re[0],je=Re[1],_e=function(u){return K&&!u.lessEquals(K)?K:G&&!G.lessEquals(u)?G:null},Ne=function(u){return!_e(u)},he=function(u,v){var l=u,R=Ne(l)||l.isEmpty();if(!l.isEmpty()&&!v&&(l=_e(l)||l,R=!0),!M&&!w&&R){var te=l.toString(),be=H(te,v);return be>=0&&(l=x(ve(te,".",be)),Ne(l)||(l=x(ve(te,".",be,!0)))),l.equals(f)||(J(l),q?.(l.isEmpty()?null:Te(j,l)),b===void 0&&ee(l,v)),l}return f},We=Et(),ke=function s(u){if(Ge(),D(u),!$.current){var v=L(u),l=x(v);l.isNaN()||he(l,!0)}W?.(u),We(function(){var R=u;U||(R=u.replace(/。/g,".")),R!==u&&s(R)})},Xe=function(){$.current=!0},Ye=function(){$.current=!1,ke(_.current.value)},Je=function(u){ke(u.target.value)},Me=function(u){var v;if(!(u&&Ce||!u&&De)){E.current=!1;var l=x(A.current?Pe(m):m);u||(l=l.negate());var R=(f||x(0)).add(l.toString()),te=he(R,!1);B?.(Te(j,te),{offset:A.current?Pe(m):m,type:u?"up":"down"}),(v=_.current)===null||v===void 0||v.focus()}},Ve=function(u){var v=x(L(k)),l=v;v.isNaN()?l=f:l=he(v,u),b!==void 0?ee(f,!1):l.isNaN()||ee(l,!1)},Qe=function(){E.current=!0},Ze=function(u){var v=u.which,l=u.shiftKey;E.current=!0,l?A.current=!0:A.current=!1,v===me.ENTER&&($.current||(E.current=!1),Ve(!1),X?.(u)),V!==!1&&!$.current&&[me.UP,me.DOWN].includes(v)&&(Me(me.UP===v),u.preventDefault())},et=function(){E.current=!1,A.current=!1},tt=function(){Ve(!1),se(!1),E.current=!1};return ye(function(){f.isInvalidate()||ee(f,!1)},[O]),ye(function(){var s=x(b);fe(s);var u=x(L(k));(!s.equals(u)||!E.current||y)&&ee(s,E.current)},[b]),ye(function(){y&&je()},[k]),r.createElement("div",{className:P(a,c,(t={},p(t,"".concat(a,"-focused"),oe),p(t,"".concat(a,"-disabled"),w),p(t,"".concat(a,"-readonly"),M),p(t,"".concat(a,"-not-a-number"),f.isNaN()),p(t,"".concat(a,"-out-of-range"),!f.isInvalidate()&&!Ne(f)),t)),style:N,onFocus:function(){se(!0)},onBlur:tt,onKeyDown:Ze,onKeyUp:et,onCompositionStart:Xe,onCompositionEnd:Ye,onBeforeInput:Qe},ae&&r.createElement(yt,{prefixCls:a,upNode:C,downNode:I,upDisabled:Ce,downDisabled:De,onStep:Me}),r.createElement("div",{className:"".concat(ie,"-wrap")},r.createElement("input",ge({autoComplete:"off",role:"spinbutton","aria-valuemin":d,"aria-valuemax":h,"aria-valuenow":f.isInvalidate()?null:f.toString(),step:m},Y,{ref:ut(_,n),className:ie,value:k,onChange:Je,disabled:w,readOnly:M}))))});Le.displayName="InputNumber";var xt=function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)n.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(t[i[a]]=e[i[a]]);return t},Dt=r.forwardRef(function(e,n){var t=r.useContext(ot),i=t.getPrefixCls,a=t.direction,c=r.useContext(st),N=r.useState(!1),d=ne(N,2),h=d[0],S=d[1],m=r.useRef(null);r.useImperativeHandle(n,function(){return m.current});var g=e.className,b=e.size,w=e.disabled,M=e.prefixCls,C=e.addonBefore,I=e.addonAfter,V=e.prefix,F=e.bordered,ae=F===void 0?!0:F,j=e.readOnly,U=e.status,y=e.controls,O=xt(e,["className","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls"]),o=i("input-number",M),q=lt(o,a),W=q.compactSize,X=q.compactItemClassnames,B=r.createElement(pt,{className:"".concat(o,"-handler-up-inner")}),Y=r.createElement(dt,{className:"".concat(o,"-handler-down-inner")}),ie=typeof y=="boolean"?y:void 0;He(y)==="object"&&(B=typeof y.upIcon>"u"?B:r.createElement("span",{className:"".concat(o,"-handler-up-inner")},y.upIcon),Y=typeof y.downIcon>"u"?Y:r.createElement("span",{className:"".concat(o,"-handler-down-inner")},y.downIcon));var _=r.useContext(ct),z=_.hasFeedback,ue=_.status,oe=_.isFormItemInput,se=_.feedbackIcon,E=mt(ue,U),$=W||b||c,A=r.useContext(ft),le=w??A,ce=P(p(p(p(p(p({},"".concat(o,"-lg"),$==="large"),"".concat(o,"-sm"),$==="small"),"".concat(o,"-rtl"),a==="rtl"),"".concat(o,"-borderless"),!ae),"".concat(o,"-in-form-item"),oe),Ie(o,E),X,g),f=r.createElement(Le,ge({ref:m,disabled:le,className:ce,upHandler:B,downHandler:Y,prefixCls:o,readOnly:j,controls:ie},O));if(V!=null||z){var fe=P("".concat(o,"-affix-wrapper"),Ie("".concat(o,"-affix-wrapper"),E,z),p(p(p(p(p(p(p(p({},"".concat(o,"-affix-wrapper-focused"),h),"".concat(o,"-affix-wrapper-disabled"),e.disabled),"".concat(o,"-affix-wrapper-sm"),c==="small"),"".concat(o,"-affix-wrapper-lg"),c==="large"),"".concat(o,"-affix-wrapper-rtl"),a==="rtl"),"".concat(o,"-affix-wrapper-readonly"),j),"".concat(o,"-affix-wrapper-borderless"),!ae),"".concat(g),!(C||I)&&g));f=r.createElement("div",{className:fe,style:e.style,onMouseUp:function(){return m.current.focus()}},V&&r.createElement("span",{className:"".concat(o,"-prefix")},V),$e(f,{style:null,value:e.value,onFocus:function(k){var D;S(!0),(D=e.onFocus)===null||D===void 0||D.call(e,k)},onBlur:function(k){var D;S(!1),(D=e.onBlur)===null||D===void 0||D.call(e,k)}}),z&&r.createElement("span",{className:"".concat(o,"-suffix")},se))}if(C!=null||I!=null){var J="".concat(o,"-group"),H="".concat(J,"-addon"),L=C?r.createElement("div",{className:H},C):null,Q=I?r.createElement("div",{className:H},I):null,de=P("".concat(o,"-wrapper"),J,p({},"".concat(J,"-rtl"),a==="rtl")),Se=P("".concat(o,"-group-wrapper"),p(p(p({},"".concat(o,"-group-wrapper-sm"),c==="small"),"".concat(o,"-group-wrapper-lg"),c==="large"),"".concat(o,"-group-wrapper-rtl"),a==="rtl"),Ie("".concat(o,"-group-wrapper"),E,z),g);f=r.createElement("div",{className:Se,style:e.style},r.createElement("div",{className:de},L&&r.createElement(Be,null,r.createElement(Ae,{status:!0,override:!0},L)),$e(f,{style:null,disabled:le}),Q&&r.createElement(Be,null,r.createElement(Ae,{status:!0,override:!0},Q))))}return f});export{Dt as I};
