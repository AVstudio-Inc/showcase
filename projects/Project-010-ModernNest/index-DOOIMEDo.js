import{cW as ce,r as o,C as X,c as O,a as f,by as u,bD as K,cX as L,bB as ie,ci as ue}from"./main-DkRMjw9y.js";function D(n){return ce.includes(n)}var fe=function(e){var s=e.className,t=e.prefixCls,r=e.style,a=e.color,c=e.children,l=e.text,p=e.placement,y=p===void 0?"end":p,S=o.useContext(X),N=S.getPrefixCls,E=S.direction,m=N("ribbon",t),x=D(a),C=O(m,"".concat(m,"-placement-").concat(y),f(f({},"".concat(m,"-rtl"),E==="rtl"),"".concat(m,"-color-").concat(a),x),s),v={},d={};return a&&!x&&(v.background=a,d.color=a),o.createElement("div",{className:"".concat(m,"-wrapper")},c,o.createElement("div",{className:C,style:u(u({},v),r)},o.createElement("span",{className:"".concat(m,"-text")},l),o.createElement("div",{className:"".concat(m,"-corner"),style:d})))};function Q(n){var e=n.prefixCls,s=n.value,t=n.current,r=n.offset,a=r===void 0?0:r,c;return a&&(c={position:"absolute",top:"".concat(a,"00%"),left:0}),o.createElement("span",{style:c,className:O("".concat(e,"-only-unit"),{current:t})},s)}function me(n,e,s){for(var t=n,r=0;(t+10)%10!==e;)t+=s,r+=s;return r}function ve(n){var e=n.prefixCls,s=n.count,t=n.value,r=Number(t),a=Math.abs(s),c=o.useState(r),l=K(c,2),p=l[0],y=l[1],S=o.useState(a),N=K(S,2),E=N[0],m=N[1],x=function(){y(r),m(a)};o.useEffect(function(){var h=setTimeout(function(){x()},1e3);return function(){clearTimeout(h)}},[r]);var C,v;if(p===r||Number.isNaN(r)||Number.isNaN(p))C=[o.createElement(Q,u({},n,{key:r,current:!0}))],v={transition:"none"};else{C=[];for(var d=r+10,g=[],b=r;b<=d;b+=1)g.push(b);var P=g.findIndex(function(h){return h%10===p});C=g.map(function(h,T){var I=h%10;return o.createElement(Q,u({},n,{key:h,value:I,offset:T-P,current:T===P}))});var z=E<a?1:-1;v={transform:"translateY(".concat(-me(p,r,z),"00%)")}}return o.createElement("span",{className:"".concat(e,"-only"),style:v,onTransitionEnd:x},C)}var de=function(n,e){var s={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.indexOf(t)<0&&(s[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(n);r<t.length;r++)e.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(n,t[r])&&(s[t[r]]=n[t[r]]);return s},pe=function(e){var s=e.prefixCls,t=e.count,r=e.className,a=e.motionClassName,c=e.style,l=e.title,p=e.show,y=e.component,S=y===void 0?"sup":y,N=e.children,E=de(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),m=o.useContext(X),x=m.getPrefixCls,C=x("scroll-number",s),v=u(u({},E),{"data-show":p,style:c,className:O(C,r,a),title:l}),d=t;if(t&&Number(t)%1===0){var g=String(t).split("");d=g.map(function(b,P){return o.createElement(ve,{prefixCls:C,count:Number(t),value:b,key:g.length-P})})}return c&&c.borderColor&&(v.style=u(u({},c),{boxShadow:"0 0 0 1px ".concat(c.borderColor," inset")})),N?L(N,function(b){return{className:O("".concat(C,"-custom-component"),b?.className,a)}}):o.createElement(S,v,d)},ye=function(n,e){var s={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.indexOf(t)<0&&(s[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(n);r<t.length;r++)e.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(n,t[r])&&(s[t[r]]=n[t[r]]);return s},Ce=function(e){var s=e.prefixCls,t=e.scrollNumberPrefixCls,r=e.children,a=e.status,c=e.text,l=e.color,p=e.count,y=p===void 0?null:p,S=e.overflowCount,N=S===void 0?99:S,E=e.dot,m=E===void 0?!1:E,x=e.size,C=x===void 0?"default":x,v=e.title,d=e.offset,g=e.style,b=e.className,P=e.showZero,z=P===void 0?!1:P,h=ye(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","showZero"]),T=o.useContext(X),I=T.getPrefixCls,A=T.direction,i=I("badge",s),V=y>N?"".concat(N,"+"):y,Z=V==="0"||V===0,_=y===null||Z&&!z,U=(a!=null||l!=null)&&_,k=m&&!Z,R=k?"":V,$=o.useMemo(function(){var w=R==null||R==="";return(w||Z&&!z)&&!k},[R,Z,z,k]),Y=o.useRef(y);$||(Y.current=y);var j=Y.current,q=o.useRef(R);$||(q.current=R);var H=q.current,F=o.useRef(k);$||(F.current=k);var B=o.useMemo(function(){if(!d)return u({},g);var w={marginTop:d[1]};return A==="rtl"?w.left=parseInt(d[0],10):w.right=-parseInt(d[0],10),u(u({},w),g)},[A,d,g]),ee=v??(typeof j=="string"||typeof j=="number"?j:void 0),te=$||!c?null:o.createElement("span",{className:"".concat(i,"-status-text")},c),re=!j||ie(j)!=="object"?void 0:L(j,function(w){return{style:u(u({},B),w.style)}}),ne=O(f(f(f({},"".concat(i,"-status-dot"),U),"".concat(i,"-status-").concat(a),!!a),"".concat(i,"-status-").concat(l),D(l))),G={};l&&!D(l)&&(G.background=l);var J=O(i,f(f(f({},"".concat(i,"-status"),U),"".concat(i,"-not-a-wrapper"),!r),"".concat(i,"-rtl"),A==="rtl"),b);if(!r&&U){var oe=B.color;return o.createElement("span",u({},h,{className:J,style:B}),o.createElement("span",{className:ne,style:G}),c&&o.createElement("span",{style:{color:oe},className:"".concat(i,"-status-text")},c))}return o.createElement("span",u({},h,{className:J}),r,o.createElement(ue,{visible:!$,motionName:"".concat(i,"-zoom"),motionAppear:!1,motionDeadline:1e3},function(w){var ae=w.className,se=I("scroll-number",t),W=F.current,le=O(f(f(f(f(f(f({},"".concat(i,"-dot"),W),"".concat(i,"-count"),!W),"".concat(i,"-count-sm"),C==="small"),"".concat(i,"-multiple-words"),!W&&H&&H.toString().length>1),"".concat(i,"-status-").concat(a),!!a),"".concat(i,"-status-").concat(l),D(l))),M=u({},B);return l&&!D(l)&&(M=M||{},M.background=l),o.createElement(pe,{prefixCls:se,show:!$,motionClassName:ae,className:le,count:H,title:ee,style:M,key:"scrollNumber"},re)}),te)};Ce.Ribbon=fe;export{Ce as B};
