"use strict";(self.webpackChunkwebapp=self.webpackChunkwebapp||[]).push([[6845],{68513:(e,t,n)=>{n.d(t,{A:()=>a});var l=n(44719);const a=e=>l.A.confirm({zIndex:3e3,...e})},92837:(e,t,n)=>{n.d(t,{D:()=>i,Y:()=>c});var l,a,o=n(57528),r=n(86006);const c=r.Ay.div(l||(l=(0,o.A)(["\n  position: relative;\n  height: 100%;\n  overflow-y: scroll;\n  display: grid;\n  gap: 1vmax;\n  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\n  align-content: flex-start;\n"]))),i=r.Ay.div(a||(a=(0,o.A)(["\n  position: relative;\n  width: 100%;\n  max-width: 100%;\n\n  .ant-upload-drag {\n    height: 150px;\n  }\n\n  .ant-upload-list-text-container {\n    position: relative;\n    width: 100%;\n  }\n\n  .ant-upload-list-item-name {\n    width: 100px;\n    overflow: hidden;\n  }\n"])))},1291:(e,t,n)=>{n.d(t,{A:()=>d});var l=n(92759),a=n(72540),o=n(48362),r=n(28429),c=n(88349),i=n(92837),s=n(44414);const d=e=>{let{uploadState:t,setUploadState:n,type:d}=e;const{projectId:u}=(0,r.g)(),m="font"===d?".ttf, .otf":".png, .jpg, .jpeg, .svg, .webp",p={name:"file",multiple:!0,customRequest:e=>{n("uploading"),u&&(0,o.Hk)({projectId:Number(u),eventData:e}).then((()=>{n(""),l.Ay.success("File uploaded")}))},onChange(e){const{status:t}=e.file;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?l.Ay.success("".concat(e.file.name," file uploaded successfully.")):"error"===t&&l.Ay.error("".concat(e.file.name," file upload failed."))},onDrop(e){},onRemove(e){console.log("Remove files",e)},fileList:[],accept:m,disabled:""!==t};return(0,s.jsx)(i.D,{children:(0,s.jsxs)(a.A,{...p,children:[(0,s.jsx)("p",{className:"ant-upload-drag-icon",children:(0,s.jsx)(c.A,{})}),(0,s.jsxs)("small",{children:["Click or drag file to this area to upload ",(0,s.jsx)("br",{})," ",m]})]})})}},70850:(e,t,n)=>{n.d(t,{A:()=>A});var l=n(68513),a=n(48362),o=n(9950),r=n(92837),c=n(12678),i=n(44070),s=n(27379),d=n(12916),u=n(92759),m=n(44719),p=n(48538),f=n(93072),v=n(46331),h=n(64983),x=n(44414);const g=e=>{var t,n,o;let{currentProject:m,selectFile:p,setSelectFile:h,renderAsModalPicker:g,style:A,setUploadState:y}=e;const b=null===m||void 0===m?void 0:m.id,j=null===m||void 0===m||null===(t=m.attributes)||void 0===t||null===(n=t.media)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.filter((e=>e.attributes.mime.includes("image")));return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(r.Y,{style:A,children:null===j||void 0===j?void 0:j.map((e=>{let t=e.id;try{const n=JSON.parse(e.attributes.alternativeText),{uuid:l}=n;l&&(t=l)}catch(r){}const{url:n}=(0,f.h8)({imageId:e.id,project:m,renderEnvtype:"editor"});let o={};return e.id===p&&(o={borderColor:"var(--ant-primary-5)"}),m&&(0,x.jsxs)("div",{style:o,onClick:()=>g&&h(e.id),className:"thumb",children:[(0,x.jsx)("img",{className:"pic",src:n,alt:e.attributes.name}),(0,x.jsxs)(d.A,{className:"imgIDBox",children:["ID: ",t]}),!g&&(0,x.jsxs)("div",{className:"overlay",children:[(0,x.jsx)(c.A,{onClick:()=>{(0,v.A)((0,x.jsxs)("div",{style:{display:"flex",flexFlow:"column",gap:10},children:[(0,x.jsx)("div",{children:(0,x.jsxs)(d.A,{className:"imgIDBox",children:["ID: ",t]})}),(0,x.jsx)("img",{className:"pic",src:n,alt:e.attributes.name})]}))}}),(0,x.jsx)(i.A,{onClick:()=>{(0,l.A)({icon:(0,x.jsx)(s.A,{}),title:"Remove media file?",content:"Please confirm removing ".concat(e.attributes.name," from project media library"),okText:"Delete",cancelText:"Cancel",okButtonProps:{danger:!0},onOk:()=>{b&&y&&(y("removing"),(0,a.w8)(b,e.id).then((()=>{y(""),u.Ay.success("File deleted")})))},onCancel:()=>{}})}})]})]},e.id)}))})})},A=o.memo((e=>{let{style:t,renderAsModalPicker:n,uploadState:l,setUploadState:a}=e;const r=(0,h.f)((e=>e.workingProject)),[c,i,s]=n||[],[d,u]=(0,o.useState)(null);const f=(0,x.jsx)(g,{style:t,setSelectFile:u,selectFile:d,renderAsModalPicker:n,currentProject:r,uploadState:l,setUploadState:a});return void 0!==n?(0,x.jsx)(m.A,{destroyOnClose:!0,maskClosable:!1,title:"Pick Image",open:c,onCancel:()=>i&&i(!1),footer:[(0,x.jsx)(p.A,{onClick:()=>{u(null),i&&i(!1)},children:"Cancel"},"back"),(0,x.jsx)(p.A,{disabled:null===d,type:"primary",onClick:()=>(s&&s(d),void(i&&i(!1))),children:"Pick Image"},"submit")],children:f}):(0,x.jsxs)(x.Fragment,{children:[" ",f]})}))},46331:(e,t,n)=>{n.d(t,{A:()=>o});var l=n(44719),a=n(44414);const o=e=>l.A.info({icon:null,maskClosable:!0,content:(0,a.jsx)(a.Fragment,{children:e}),okText:"Close"})},25145:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var l=n(22718),a=n(1291),o=n(70850),r=n(9950),c=n(2260),i=n(44414);const{Title:s}=l.A,d=r.memo((()=>{const[e,t]=(0,r.useState)("");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s,{id:"Media Gallery",style:{margin:"15px 0"},level:5,children:["Media Gallery"," ",""!==e&&(0,i.jsx)(c.A,{})]}),(0,i.jsx)(o.A,{uploadState:e,setUploadState:t,style:{height:"auto",maxHeight:"40vh",marginBottom:"1vmax",gridTemplateColumns:" repeat(auto-fit, minmax(15%, 1fr))"}}),(0,i.jsx)(a.A,{uploadState:e,setUploadState:t})]})}))},13239:(e,t,n)=>{n.d(t,{A:()=>i});var l=n(89379),a=n(9950);const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var r=n(25085),c=function(e,t){return a.createElement(r.A,(0,l.A)((0,l.A)({},e),{},{ref:t,icon:o}))};const i=a.forwardRef(c)},24513:(e,t,n)=>{n.d(t,{A:()=>i});var l=n(89379),a=n(9950);const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};var r=n(25085),c=function(e,t){return a.createElement(r.A,(0,l.A)((0,l.A)({},e),{},{ref:t,icon:o}))};const i=a.forwardRef(c)},12916:(e,t,n)=>{n.d(t,{A:()=>b});var l=n(64467),a=n(58168),o=n(5544),r=n(94118),c=n(48738),i=n.n(c),s=n(15207),d=n(9950),u=n(5741),m=n(78011),p=n(52370),f=function(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(e);a<l.length;a++)t.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(e,l[a])&&(n[l[a]]=e[l[a]])}return n};const v=function(e){var t=e.prefixCls,n=e.className,o=e.checked,r=e.onChange,c=e.onClick,s=f(e,["prefixCls","className","checked","onChange","onClick"]),m=(0,d.useContext(u.QO).getPrefixCls)("tag",t),p=i()(m,(0,l.A)((0,l.A)({},"".concat(m,"-checkable"),!0),"".concat(m,"-checkable-checked"),o),n);return d.createElement("span",(0,a.A)({},s,{className:p,onClick:function(e){null===r||void 0===r||r(!o),null===c||void 0===c||c(e)}}))};var h=function(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(e);a<l.length;a++)t.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(e,l[a])&&(n[l[a]]=e[l[a]])}return n},x=new RegExp("^(".concat(m.w.join("|"),")(-inverse)?$")),g=new RegExp("^(".concat(m.C.join("|"),")$")),A=function(e,t){var n=e.prefixCls,c=e.className,m=e.style,f=e.children,v=e.icon,A=e.color,y=e.onClose,b=e.closeIcon,j=e.closable,C=void 0!==j&&j,k=h(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),w=d.useContext(u.QO),O=w.getPrefixCls,S=w.direction,P=d.useState(!0),E=(0,o.A)(P,2),N=E[0],I=E[1];d.useEffect((function(){"visible"in k&&I(k.visible)}),[k.visible]);var F=function(){return!!A&&(x.test(A)||g.test(A))},D=(0,a.A)({backgroundColor:A&&!F()?A:void 0},m),R=F(),M=O("tag",n),L=i()(M,(0,l.A)((0,l.A)((0,l.A)((0,l.A)({},"".concat(M,"-").concat(A),R),"".concat(M,"-has-color"),A&&!R),"".concat(M,"-hidden"),!N),"".concat(M,"-rtl"),"rtl"===S),c),T=function(e){e.stopPropagation(),null===y||void 0===y||y(e),e.defaultPrevented||"visible"in k||I(!1)},B="onClick"in k||f&&"a"===f.type,U=(0,s.A)(k,["visible"]),z=v||null,H=z?d.createElement(d.Fragment,null,z,d.createElement("span",null,f)):f,G=d.createElement("span",(0,a.A)({},U,{ref:t,className:L,style:D}),H,C?b?d.createElement("span",{className:"".concat(M,"-close-icon"),onClick:T},b):d.createElement(r.A,{className:"".concat(M,"-close-icon"),onClick:T}):null);return B?d.createElement(p.A,null,G):G},y=d.forwardRef(A);y.CheckableTag=v;const b=y},43107:(e,t,n)=>{n.d(t,{F:()=>r});var l=n(3888),a=function(e){if((0,l.A)()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some((function(e){return e in n.style}))}return!1},o=function(e,t){if(!a(e))return!1;var n=document.createElement("div"),l=n.style[e];return n.style[e]=t,n.style[e]!==l};function r(e,t){return Array.isArray(e)||void 0===t?a(e):o(e,t)}}}]);