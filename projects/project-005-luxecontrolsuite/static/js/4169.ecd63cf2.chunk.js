"use strict";(self.webpackChunkwebapp=self.webpackChunkwebapp||[]).push([[4169],{13494:(e,t,n)=>{n.d(t,{e:()=>i});var a=n(41397);const i=(0,n(36373).h)(((e,t)=>({visibleOverlayData:null,setVisibleOverlayData:n=>{const a=t().visibleOverlayData;if(null!==a&&void 0!==a&&a.triggerElementRef&&(null===a||void 0===a?void 0:a.triggerElementRef)===(null===n||void 0===n?void 0:n.triggerElementRef))return e((()=>({visibleOverlayData:null}))),void console.log("Overlay closed: same trigger element ");e((()=>({visibleOverlayData:n})))},updateActionData:n=>{const a=t(),i={...a.visibleOverlayData,actionData:n};a.visibleOverlayData&&e((()=>({visibleOverlayData:i})))}})),a.isEqual)},34243:(e,t,n)=>{n.d(t,{A:()=>a});const a=function(e){const{useBorder:t,borderRadius:n,borderTopLeftRadius:a,borderTopRightRadius:i,borderBottomRightRadius:o,borderBottomLeftRadius:l,...s}=null!==e&&void 0!==e?e:{};return t?{borderTopLeftRadius:null!==a&&void 0!==a?a:n,borderTopRightRadius:null!==i&&void 0!==i?i:n,borderBottomRightRadius:null!==o&&void 0!==o?o:n,borderBottomLeftRadius:null!==l&&void 0!==l?l:n,...s}:{}}},50279:(e,t,n)=>{n.d(t,{A:()=>a});const a=e=>{let t="no_url";return e&&(t=e.toLowerCase().replace(/ /g,"-")),t}},4169:(e,t,n)=>{n.d(t,{A:()=>p});var a=n(54826),i=n(50384),o=n(31222),l=n(72676),s=n(69927),r=n(23164),c=n(70747),u=n(74930),d=n(6604),g=n(26678),v=n(63057),m=n(68873),f=n(9950),h=n(59622),b=n(44414);const p=e=>{let{icon:t,style:n,className:p,onClick:y,iconImageData:A,useImageAsIcon:S,...w}=e,x=(0,b.jsx)("div",{children:"'n/a'"});if(!S&&t)try{let e;switch(t.slice(0,2).toLowerCase()){case"ai":e=m[t];break;case"tb":e=v[t];break;case"bs":e=i[t];break;case"fa":e=a[t];break;case"md":e=o[t];break;case"hi":e=l[t];break;case"wi":e=s[t];break;case"fc":e=r[t];break;case"ci":e=c[t];break;case"fi":e=u[t];break;case"io":e=d[t];break;case"ri":e=g[t]}e&&(x=f.createElement(e,{style:n,className:p,onClick:y,...w}))}catch(C){console.log("Error parse icon"),console.log(C)}return S&&A&&(x=(0,b.jsx)(h.o,{passedStyle:{width:"auto",height:"1em",...n},...A,isLazyLoad:!1})),(0,b.jsx)(b.Fragment,{children:x})}},44468:(e,t,n)=>{n.d(t,{M5:()=>u,c8:()=>v,vF:()=>g});var a=n(13753),i=n(97592),o=n(64983),l=n(89321),s=n(11862),r=n(53853);const c=new s.Ay("images");async function u(e){return new Promise((async(t,n)=>{const a=i.Q.getState().addToCacheQueue;try{let{imgId:i,useExternalUrl:d,externalUrl:g}=e;if(i=Number(i),d)if(g){const n=await c.myTable.where("url").equals(g).first();n?t(n.imgData):(console.log("Image with external url not found in Db "),a({externalUrl:e.externalUrl,useExternalUrl:!0}),t(g))}else n("No external url provided");else if(i){const d=await c.myTable.where("imgId").equals(i).first();if(d)t(d.imgData);else{var l,s,u;console.log("Image with imgId not found in Db "),a({imgId:e.imgId});const c=null===(l=o.f.getState().workingProject)||void 0===l||null===(s=l.attributes.media.data)||void 0===s||null===(u=s.find((e=>e.id===i)))||void 0===u?void 0:u.attributes.url;if(!c)return void n("No mediaUrl");t((0,r.A)(c))}}else n("No imgId or url provided")}catch(d){throw console.error("Error retrieving image data:",d),d}}))}c.version(1).stores({myTable:"++id,imgId,url,imgData"});const d=e=>{let{imgId:t,useExternalUrl:n,externalUrl:s}=e,r="";return new Promise((async(e,u)=>{try{if(n)r=null!==s&&void 0!==s?s:"";else{var d,g;const e=null===(d=o.f.getState().workingProject)||void 0===d?void 0:d.attributes.media.data.find((e=>e.id===t));r=null!==(g=null===e||void 0===e?void 0:e.attributes.url)&&void 0!==g?g:""}r||e(null);const u=await c.myTable.where("url").equals(r).first();if(u)e(u.imgData);else{const o="build"===i.Q.getState().envState;let s="";if(n)s=r;else{s=(o?".":"")+r}o&&(a.axiosInstance.defaults.baseURL="");const u=(await a.axiosInstance.get(s,{responseType:"blob",headers:o?{}:(0,l.A)(),withCredentials:!n&&!o})).data,d=new FileReader;d.onloadend=()=>{const n=d.result,a={imgId:null!==t&&void 0!==t?t:0,url:r,imgData:n};c.myTable.add(a),e(a.imgData)},d.readAsDataURL(u)}}catch(v){console.log(v),u(v)}}))},g=e=>{const t=e.map(d);return Promise.all(t)},v=()=>new Promise((async(e,t)=>{0===await c.myTable.count()?e("DB is already empty"):c.myTable.clear().then((()=>{e("OK")})).catch((()=>{t("Image DB clear failed")}))}))},69331:(e,t,n)=>{n.d(t,{A:()=>a});const a=function(e){return/^\d+$/.test(e)}},38491:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(97592);const i=function(e){let{navigate:t,url:n}=e;const i=a.Q.getState().envState;console.info("%cPage flip to: ".concat(n),"color:#000; background-color:#09eab2"),"live"===i||"build"===i?t("-1"===n?-1:"/"+n):console.info("%cPage flip works only in LIVE Project Preview or after build","color:#000; background-color:#09eab2")}},74595:(e,t,n)=>{n.d(t,{A:()=>w,j:()=>S});var a=n(9950),i=n(70694),o=n(28429),l=n(50279),s=n(69331),r=n(38491),c=n(44358),u=n(41397),d=n(97592),g=n(64983),v=n(13494),m=n(33490),f=n(57783),h=n(74744),b=n.n(h);function p(e){let{indexInList:t,listSignalStep:n,initialSignalName:a,offset:i=0}=e;if(!(0,s.A)(a))return a;let o=Number(a)+i;return void 0!==t&&void 0!==n&&n>0?(o+=t,o.toString()):o.toString()}const y=async e=>{let{actions:t,indexInList:n,parentData:a,parentIndex:o,elementRef:s,dataset:u,datasetPath:d,filter:h,offsets:b,pages:y,navigate:A,setOverlayActionIndex:S}=e;const{serialOffset:w,digitalOffset:x,analogOffset:C}=b||{},{addValueToStore:N}=f.B.getState(),{setVariableNewValue:k}=m.c.getState();function T(e){return void 0!==e&&"string"===typeof e&&e.startsWith("{")&&e.endsWith("}")?(console.log("value: ",e.slice(1,-1)," resultedObject: ",E),(0,c.px)(E,e.slice(1,-1))):e}const D=e=>{let{newActionData:t}=e;const{setVisibleOverlayData:n}=v.e.getState();n(null===t?null:{actionData:t,triggerElementRef:s})},E=void 0!==u?await(0,c.Re)(u,d,h,n).then((e=>e)):await(0,c.Re)(null===a||void 0===a?void 0:a.dataset,null===a||void 0===a?void 0:a.datasetPath,null===a||void 0===a?void 0:a.datasetFilter,n).then((e=>e));await(0,c.Re)(null===a||void 0===a?void 0:a.dataset,null===a||void 0===a?void 0:a.datasetPath,null===a||void 0===a?void 0:a.datasetFilter,o).then((e=>e));let I=[],P=[],L=[],R=[],V=[],j=[],O=[],U=[],F=[],_=[],B=[];return null!==t&&void 0!==t&&t.length&&t.forEach(((e,t)=>{var a,o,s,v,m,f;let h;switch(e.type){case"d":let I=p({initialSignalName:e.signalName_signal,indexInList:n,listSignalStep:e.listSignalStep,offset:x});if(I=T(I),null!==(a=e.behaviour)&&void 0!==a&&null!==(o=a.toLowerCase())&&void 0!==o&&o.includes("change")&&(null===e||void 0===e||!e.onChangeActionUseCustomValue)){h=e=>(0,i.mA)({signalName:I,value:Boolean(e)});break}if(!0===e.digitalPushData)h=()=>(0,i.mA)({signalName:I,value:!0});else if(!1===e.digitalPushData)h=()=>(0,i.mA)({signalName:I,value:!1});else if("momentarily"===e.digitalPushData)h=e=>(0,i.mA)({signalName:I,value:e});else if("toggle"===e.digitalPushData)h=()=>{try{let e;e=CrComLib.subscribeState("boolean",I,(t=>{(0,i.mA)({signalName:I,value:!t}),CrComLib.unsubscribeState("boolean",I,e)}))}catch(e){console.log(e)}};else{var b;const t=null!==(b=e.pulseDelay)&&void 0!==b?b:50;h=()=>{(0,i.kU)(I,t)}}break;case"v":h=()=>{e.value&&void 0!==e.value&&E&&e.value.toString().startsWith("{")&&e.value.toString().endsWith("}")?k({name:e.attachedVariableName,currentValue:(0,c.px)(E,e.value.slice(1,-1))}):k({name:e.attachedVariableName,currentValue:e.value})};break;case"s":let P=p({initialSignalName:e.signalName_signal,indexInList:n,listSignalStep:e.listSignalStep,offset:w});if(null!==(s=e.behaviour)&&void 0!==s&&null!==(v=s.toLowerCase())&&void 0!==v&&v.includes("change")){h=null!==e&&void 0!==e&&e.onChangeActionUseCustomValue?()=>(0,i.kN)({signalName:T(P),value:String(e.value)}):e=>(0,i.kN)({signalName:T(P),value:String(e)});break}h=()=>(0,i.kN)({signalName:T(P),value:T(String(e.value))});break;case"a":let L=p({initialSignalName:e.signalName_signal,indexInList:n,listSignalStep:e.listSignalStep,offset:C});if(null!==(m=e.behaviour)&&void 0!==m&&null!==(f=m.toLowerCase())&&void 0!==f&&f.includes("change")){h=null!==e&&void 0!==e&&e.onChangeActionUseCustomValue?()=>(0,i.K6)({signalName:T(L),value:Number(e.value)}):e=>(0,i.K6)({signalName:T(L),value:Number(e)});break}h=()=>(0,i.K6)({signalName:T(L),value:Number(T(e.value))});break;case"o":null===S||void 0===S||S(t),h=()=>{console.log("Overlay action fired"),D({newActionData:e})};break;case"co":h=()=>{console.log("Close any active overlay"),D({newActionData:null})};break;case"f":h=t=>{var n,a,i,o;const l=!(null===(n=e.behaviour)||void 0===n||null===(a=n.toLowerCase())||void 0===a||!a.includes("change"));console.log("custom function run id: ",e.attachedFunctionToRun);const s=null===(i=g.f.getState().workingProject)||void 0===i||null===(o=i.attributes)||void 0===o?void 0:o.modificators.data,r=l?t:null===e||void 0===e?void 0:e.value;(0,c.I_)([r],e.attachedFunctionToRun,s)};break;case"r":h=()=>{let t="";e.pageFlipTarget||e.signalName_signal?t=function(e){let t;if("/"===e)t="";else if("-1"===e)t="-1";else{var n;t=(null===y||void 0===y||null===(n=y.find((t=>String(t.id)===String(e))))||void 0===n?void 0:n.attributes.name)||"no_name",t=(0,l.A)(t)}return t}(e.pageFlipTarget||e.signalName_signal):e.pageFlipTargetByName&&(t=(0,l.A)(e.pageFlipTargetByName)),(0,r.A)({navigate:A,url:t})};break;case"st":h=()=>{console.log("Store action fired",e),e.attachedStateType&&void 0!==e.stateId&&e.stateValue&&void 0!==e.stateValue&&u&&d&&"string"===typeof e.stateValue&&e.stateValue.startsWith("{")&&e.stateValue.endsWith("}")?["s","d","a"].includes(e.attachedStateType)?N({name:e.stateId,type:e.attachedStateType,joinNumber:(0,c.px)(E,e.stateValue.slice(1,-1))}):N({name:e.stateId,type:e.attachedStateType,value:(0,c.px)(E,e.stateValue.slice(1,-1))}):e.attachedStateType&&void 0!==e.stateId&&e.stateValue&&(["s","d","a"].includes(e.attachedStateType)?N({name:e.stateId,type:e.attachedStateType,joinNumber:e.stateValue}):N({name:e.stateId,type:e.attachedStateType,value:e.stateValue}))}}if(h)switch(null!==e&&void 0!==e&&e.delay&&(z=h,M=e.delay,h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];setTimeout((()=>{z(...t)}),M)}),e.behaviour){case"tap":"d"===e.type&&"momentarily"===e.digitalPushData?L=[...L,h]:null!==e&&void 0!==e&&e.forceExecution?P=[...P,h]:I=[...I,h];break;case"hold":"d"===e.type&&"momentarily"===e.digitalPushData?R=[...R,h]:V=[...V,h];break;case"dbTap":j=[...j,h];break;case"onload":O=[...O,h];break;case"onexit":U=[...U,h];break;case"beforeChange":F=[...F,h];break;case"afterChange":_=[..._,h];break;case"onChange":B=[...B,h]}var z,M})),{tapActions:I,tapForcedActions:P,tapActionsMomentarily:L,holdActionsMomentarily:R,doubleTapActions:j,holdActions:V,onLoadActions:O,onExitActions:U,onBeforeChangeActions:F,onAfterChangeActions:_,onChangeActions:B}},A={tapActions:[],tapForcedActions:[],tapActionsMomentarily:[],doubleTapActions:[],holdActions:[],holdActionsMomentarily:[],onLoadActions:[],onExitActions:[],onBeforeChangeActions:[],onAfterChangeActions:[],onChangeActions:[]},S=e=>{let{actions:t}=e;const n=(0,d.Q)((e=>e.envState)),i=(0,g.f)((e=>{var t;return null===(t=e.workingProject)||void 0===t?void 0:t.attributes.pages.data})),l=(0,o.Zp)(),[s,r]=(0,a.useState)(new Map([]));return(0,a.useEffect)((()=>{if(!t.size)return;const e=[],n=new Map([]);t.forEach(((t,a)=>{if(t){const o=y({actions:t,pages:i,navigate:l}).then((e=>{n.set(a,e)}));e.push(o)}else n.set(a,void 0)})),Promise.all(e).then((()=>{r((e=>(0,u.isEqual)(e,n)?e:n))})).catch((e=>{console.error("Error in compose bulc actions",e)}))}),[t,n,l,i]),t.size?s:null},w=e=>{var t;let{offsets:n,indexInList:i,actions:l,dataset:s,datasetPath:r,filter:c,elementRef:m,parentData:f,parentIndex:h}=e;const p=(0,d.Q)((e=>e.envState)),S=(0,g.f)((e=>{var t;return null===(t=e.workingProject)||void 0===t?void 0:t.attributes.pages.data})),w=(0,o.Zp)(),x=(0,v.e)((e=>e.visibleOverlayData)),[C,N]=(0,a.useState)(A),{tapActions:k,tapForcedActions:T,tapActionsMomentarily:D,doubleTapActions:E,holdActions:I,holdActionsMomentarily:P}=C,L=(0,a.useRef)(null);function R(e){L.current=e}(0,a.useEffect)((()=>{var e;if("preview"!==p||null===l||void 0===l||!l.length||!x||(null===m||void 0===m?void 0:m.current)!==(null===(e=x.triggerElementRef)||void 0===e?void 0:e.current))return;const t=l.find((e=>"o"===e.type&&e.behaviour===x.actionData.behaviour));if(t&&!(0,u.isEqual)(t,x.actionData)){(0,v.e.getState().updateActionData)(t)}}),[l,m,p,x]),(0,a.useEffect)((()=>{null!==l&&void 0!==l&&l.length&&y({actions:l,indexInList:i,parentData:f,parentIndex:h,elementRef:m,dataset:s,datasetPath:r,filter:c,offsets:n,pages:S,navigate:w,setOverlayActionIndex:R}).then((e=>{N((t=>b().diff(t,e)?e:t))}))}),[l,s,r,m,p,c,i,w,n,S,f,h]);const V=(0,a.useCallback)((e=>{let{functions:t,message:n,tapPulseValue:a}=e;null!==t&&void 0!==t&&t.length&&(void 0===a?t.forEach((e=>e())):t.forEach((e=>e(a))),console.info(n))}),[]),j=(null===E||void 0===E?void 0:E.length)>0,O=(null===I||void 0===I?void 0:I.length)>0,U=(null===P||void 0===P?void 0:P.length)>0,F=(null===k||void 0===k?void 0:k.length)>0,_=(null===D||void 0===D?void 0:D.length)>0,B=F||_||O||U||j,z=(0,a.useRef)(!1),M=(0,a.useRef)(),H=(0,a.useRef)(!1);function W(e){H.current&&(e||z.current||V({functions:k,message:"Tap actions fired"}),z.current&&V({functions:P,message:"Hold momentarily actions END",tapPulseValue:!1}),V({functions:D,message:"Tap momentarily actions END",tapPulseValue:!1})),H.current=!1,z.current=!1,clearTimeout(M.current)}function Q(){H.current&&(console.warn("onClickCancel"),W(!0))}(0,a.useEffect)((()=>{clearTimeout(M.current)}),[]);const q=B?{onPointerDown:()=>{H.current||(H.current=!0,V({functions:T,message:"Tap forced action run"}),V({functions:D,message:"Tap momentarily actions START",tapPulseValue:!0}),(U||O)&&(M.current=setTimeout((()=>{clearTimeout(M.current),z.current=!0,V({functions:I,message:"Hold actions fired"}),V({functions:P,message:"Hold momentarily actions START",tapPulseValue:!0})}),500)))},onPointerUp:()=>{W()},onPointerCancel:()=>{Q()},onMouseLeave:()=>{Q()}}:{},K=(0,a.useMemo)((()=>{var e;return(null===x||void 0===x?void 0:x.triggerElementRef)===m&&"fullscreen"!==(null===x||void 0===x||null===(e=x.actionData)||void 0===e?void 0:e.overlayPlacement)}),[m,null===x||void 0===x||null===(t=x.actionData)||void 0===t?void 0:t.overlayPlacement,null===x||void 0===x?void 0:x.triggerElementRef]);return"editor"!==p&&null!==l&&void 0!==l&&l.length?{...C,tapActionsArr:q,isActiveOverlayTrigger:K}:{...A,tapActionsArr:[],isActiveOverlayTrigger:!1}}},70694:(e,t,n)=>{n.d(t,{AD:()=>f,D1:()=>g,Ej:()=>c,I1:()=>v,K6:()=>s,Wm:()=>u,Y7:()=>d,eu:()=>m,kN:()=>r,kU:()=>l,mA:()=>o});var a=n(9950),i=n(44414);const o=e=>{let{signalName:t,value:n}=e;if(t){const e=t.toString();CrComLib.publishEvent("boolean",e,Boolean(n)),console.info("%cPush digital: ".concat(t,", value: ").concat(n),"color:white; background-color:blue")}else console.info("%cPush digital: No signal set...","color:white; background-color:blue")},l=(e,t)=>{if(e){const n=e.toString();o({signalName:n,value:!0}),setTimeout((()=>{o({signalName:n,value:!1})}),null!==t&&void 0!==t?t:0)}else console.info("%cCan't push digital true/false : signalName is undefined","color:white; background-color:blue")},s=e=>{let{signalName:t,value:n}=e;const a=null===t||void 0===t?void 0:t.toString();isNaN(n)?console.warn("Warning! Push analog: ".concat(t," with incorrect value: ").concat(n)):(console.info("%cPush analog: ".concat(t||"n/a"," with value: ").concat(n),"color:#000; background-color:orange"),CrComLib.publishEvent("number",a||"No_Signal_Name",n))},r=e=>{let{signalName:t,value:n}=e;if(void 0!==t&&void 0!==n){const e=t.toString(),a=n.toString();console.info("%cPush serial: ".concat(t," with value: ").concat(n),"color:#fff; background-color:#6100b5"),CrComLib.publishEvent("string",e,a)}},c=e=>{const[t,n]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{if(e){const t=e.toString(),a=CrComLib.subscribeState("boolean",t,n);return()=>{CrComLib.unsubscribeState("boolean",t,a)}}n(!1)}),[e]),t},u=e=>{let{signalName:t}=e;const[n,i]=(0,a.useState)(!1);if(!t)return{};const l=t.toString(),s=()=>{n&&(console.info("release: "+l),o({signalName:l,value:!1}),i(!1))};return{onPointerDown:()=>{n||(console.info("press: "+l),o({signalName:l,value:!0}),i(!0))},onPointerUp:()=>{s()},onPointerCancel:()=>{s()}}},d=e=>{const t=null===e||void 0===e?void 0:e.toString(),[n,i]=(0,a.useState)(0);return(0,a.useEffect)((()=>{if(t){const e=CrComLib.subscribeState("number",t,i);return()=>{CrComLib.unsubscribeState("number",t,e)}}}),[t]),n},g=e=>{let{signalName:t,placeHolder:n}=e;const[i,o]=(0,a.useState)(n);return(0,a.useEffect)((()=>{const e=null===t||void 0===t?void 0:t.toString();if(e){const t=CrComLib.subscribeState("string",e,o);return()=>{CrComLib.unsubscribeState("string",e,t)}}o(n)}),[n,t]),i||n},v=e=>{let{signalName:t}=e;const n=null===t||void 0===t?void 0:t.toString(),[o,l]=(0,a.useState)("");return(0,a.useEffect)((()=>{if(n){const e=CrComLib.subscribeState("number",n,l);return()=>{CrComLib.unsubscribeState("number",n,e)}}l("0")}),[n]),(0,i.jsx)(i.Fragment,{children:o})},m=e=>{let{placeholder:t,signalName:n}=e,a=g({placeHolder:t,signalName:n||void 0});return(0,i.jsx)(i.Fragment,{children:a})},f=e=>{let{signalName:t,trueText:n,falseText:o}=e;const[l,s]=(0,a.useState)(!1),r=null===t||void 0===t?void 0:t.toString();return(0,a.useEffect)((()=>{if(r){const e=CrComLib.subscribeState("boolean",r,s);return()=>{CrComLib.unsubscribeState("boolean",r,e)}}}),[r]),(0,i.jsx)(i.Fragment,{children:l?n:o})}},59622:(e,t,n)=>{n.d(t,{o:()=>A,A:()=>w});var a=n(9950),i=n(57528),o=n(86006),l=n(91829);const s=n.p+"static/media/opacity.0ee91424213fda0aa5694cc69f547294.svg";var r;const c=(0,o.Ay)(l.I)(r||(r=(0,i.A)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-transform: uppercase;\n  font-size: 14px;\n  overflow: hidden;\n\n  &.size-large input {\n    font-size: 1.2em;\n  }\n\n  &.size-small input {\n    font-size: 0.7em;\n  }\n\n  & > .image {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  &.isEditor {\n    background-image: url(",");\n    background-repeat: repeat;\n    background-position: 50% 50%;\n    background-size: 15px auto;\n  }\n"])),s);var u=n(48738),d=n.n(u),g=n(10116),v=n(800),m=n(74595),f=n(97592),h=n(44468),b=n(64864),p=n(34243),y=n(44414);const A=a.memo((e=>{let{imgId:t,useExternalUrl:n,externalUrl:i,fillType:o,fillAlignX:l,fillAlignY:s,passedStyle:r,isLazyLoad:c=!1}=e;const[u,d]=(0,a.useState)(null);return(0,a.useEffect)((()=>{(0,h.M5)({imgId:t,useExternalUrl:n,externalUrl:i}).then((e=>{d(e)})).catch((()=>{d("")}))}),[i,t,n]),u?(0,y.jsx)(b.A,{fetchOptions:{credentials:"include"},src:u,style:{objectFit:o||"cover",objectPosition:"".concat(l||"center"," ").concat(s||"center"),...r},title:"svg icon",className:"image",children:(0,y.jsx)("img",{style:{objectFit:o||"cover",objectPosition:"".concat(l||"center"," ").concat(s||"center"),...r},loading:c?"lazy":"eager",className:"image",src:u,alt:""})}):null})),S=a.memo((e=>{const{size:t,cssClass:n,width:i,height:o,actions:l,state:s,imgId:r,useExternalUrl:u,externalUrl:h,fillType:b,fillAlignX:S,fillAlignY:w,offsets:x,border:C,dataset:N,datasetPath:k,filter:T,parentData:D,parentArrayIndex:E,elementRenderId:I,parentId:P,isLazyLoad:L=!1}=e;let R=E;const V=(0,a.useRef)(null);let j=(0,g.A)(s);const O=(0,f.Q)((e=>e.envState)),U=(0,v.A)({width:i,height:o}),{tapActionsArr:F,isActiveOverlayTrigger:_}=(0,m.A)({offsets:x,actions:l,dataset:N,datasetPath:k,filter:T,elementRef:V,parentData:D,parentIndex:R,elementRenderId:I});let B=d()({["element_".concat(e.type)]:!0,["".concat(n)]:n,["size-".concat(t)]:t,hasActions:!(null===l||void 0===l||!l.length),isActiveOverlayTrigger:!!_,isEditor:"editor"===O,...j});const z={...F},M=(0,p.A)(C);return(0,y.jsx)(c,{ref:V,...e,style:{...U,...M},...z,className:B,children:(0,y.jsx)(A,{imgId:r,useExternalUrl:u,externalUrl:h,renderEnvtype:O,fillType:b,fillAlignX:S,fillAlignY:w,isLazyLoad:L})})}));S.displayName="ImageElement";const w=S},91829:(e,t,n)=>{n.d(t,{I:()=>s,u:()=>r});var a,i,o=n(57528),l=n(86006);const s=l.Ay.div(a||(a=(0,o.A)(["\n  position: relative;\n  border-style: solid;\n  max-width: 100%;\n  max-height: 100%;\n  user-select: none;\n\n  order: ",";\n\n  & > * {\n    transition: 300ms;\n  }\n\n  &.isActiveOverlayTrigger {\n    z-index: 10;\n  }\n\n  &[data-envstate='editor'] {\n    transition: 0 !important;\n    transform: none !important;\n    scale: 1 !important;\n    cursor: default !important;\n    & * {\n      pointer-events: none !important;\n    }\n  }\n\n  &[data-isdragging='true'] {\n    opacity: 0.8;\n    filter: blur(3px);\n  }\n"])),(e=>{let{index:t}=e;return t})),r=(0,l.Ay)(s)(i||(i=(0,o.A)(["\n  position: relative;\n  /* min-width: 100px;\n  min-height: 100px; */\n  width: auto;\n  height: auto;\n  container-name: ElementListContainer;\n  /* container-type: inline-size; */\n\n  .listScroller {\n    margin: 0;\n    position: relative;\n    height: 100%;\n    width: 100%;\n    overflow: auto;\n  }\n\n  .grid {\n    position: relative;\n    display: grid;\n    width: min-content;\n    height: min-content;\n    min-width: 100%;\n    min-height: 100%;\n    justify-content: center;\n    align-content: center;\n  }\n\n  &.listForceFillWidth {\n    .grid > * {\n      width: 100% !important;\n    }\n  }\n\n  &.listForceFillHeight {\n    .grid > * {\n      height: 100% !important;\n    }\n  }\n"])))},10116:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(70694),i=n(69331),o=n(35865),l=n(97592),s=n(9950);const r=e=>{const{isDisabled_signal_d_fb:t,isVisible_signal_d_fb:n,isVisible_directValue:r,isPressed_signal_d_fb:c,isVisible_reserve_space:u,orientationVisibility:d}=e||{},g=(0,l.Q)((e=>e.isLandscape)),v=(0,o.x)((e=>e.showBoundingBox)),m=(0,l.Q)((e=>e.envState)),f=!(0,a.Ej)(n),h=(0,a.Ej)(t),b=(0,a.Ej)(c),p=(0,s.useCallback)((()=>{let e=!1;return"landscape"!==d||g||(e=!0),"portrait"===d&&g&&(e=!0),e}),[g,d]),y=(0,s.useMemo)((()=>({isDisabled:!!t&&!h,isHidden:!!n&&f||function(){let e=r;return void 0!==e&&((0,i.A)(e)&&(e=Number(e)),!e)}(),isHiddenByOrientation:p(),isReserveSpace:u,isPressed:!!c&&b})),[t,h,n,f,p,u,c,b,r]),A={isHiddenByOrientation:p()};return"editor"===m&&v?A:y}},800:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(9950);const i=e=>{let{width:t,height:n,fallbackWidth:i,fallbackHeight:o}=e;return(0,a.useMemo)((()=>{var e,a,l,s;let r={};return r=void 0!==(null===t||void 0===t||null===(e=t.width)||void 0===e?void 0:e.value)&&null!==(null===t||void 0===t||null===(a=t.width)||void 0===a?void 0:a.value)?{...r,width:t.width.value+(t.width.unit||"px")}:{...r,width:i||"auto"},r=void 0!==(null===n||void 0===n||null===(l=n.height)||void 0===l?void 0:l.value)&&null!==(null===n||void 0===n||null===(s=n.height)||void 0===s?void 0:s.value)?{...r,height:n.height.value+(n.height.unit||"px")}:{...r,height:o||"auto"},r}),[t,n,i,o])}}}]);