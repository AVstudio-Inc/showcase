"use strict";(self.webpackChunkwebapp=self.webpackChunkwebapp||[]).push([[7128],{73780:(e,t,n)=>{n.d(t,{A:()=>R});var r=n(58168),o=n(64467),i=n(5544),a=n(94118),l=n(48738),c=n.n(l),u=n(89379),s=n(9950),d=n(24818),f=n(13511),v=n(87418),p=n(91478),m=n(82795);const g=s.createContext(null);const h=function(e){var t=e.prefixCls,n=e.className,o=e.style,i=e.children,a=e.containerRef,l=e.id,d={onMouseEnter:e.onMouseEnter,onMouseOver:e.onMouseOver,onMouseLeave:e.onMouseLeave,onClick:e.onClick,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp};return s.createElement(s.Fragment,null,s.createElement("div",(0,r.A)({id:l,className:c()("".concat(t,"-content"),n),style:(0,u.A)({},o),"aria-modal":"true",role:"dialog",ref:a},d),i))};var y=n(99424);function b(e){return"string"===typeof e&&String(Number(e))===e?((0,y.Ay)(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var w={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function O(e,t){var n,a,l,d,f=e.prefixCls,y=e.open,O=e.placement,E=e.inline,C=e.push,M=e.forceRender,j=e.autoFocus,k=e.keyboard,A=e.rootClassName,S=e.rootStyle,x=e.zIndex,P=e.className,R=e.id,N=e.style,D=e.motion,I=e.width,L=e.height,T=e.children,V=e.contentWrapperStyle,K=e.mask,z=e.maskClosable,F=e.maskMotion,U=e.maskClassName,q=e.maskStyle,_=e.afterOpenChange,B=e.onClose,W=e.onMouseEnter,X=e.onMouseOver,Y=e.onMouseLeave,Q=e.onClick,H=e.onKeyDown,$=e.onKeyUp,G=s.useRef(),J=s.useRef(),Z=s.useRef();s.useImperativeHandle(t,(function(){return G.current}));s.useEffect((function(){var e;y&&j&&(null===(e=G.current)||void 0===e||e.focus({preventScroll:!0}))}),[y]);var ee=s.useState(!1),te=(0,i.A)(ee,2),ne=te[0],re=te[1],oe=s.useContext(g),ie=null!==(n=null!==(a=null===(l=!1===C?{distance:0}:!0===C?{}:C||{})||void 0===l?void 0:l.distance)&&void 0!==a?a:null===oe||void 0===oe?void 0:oe.pushDistance)&&void 0!==n?n:180,ae=s.useMemo((function(){return{pushDistance:ie,push:function(){re(!0)},pull:function(){re(!1)}}}),[ie]);s.useEffect((function(){var e,t;y?null===oe||void 0===oe||null===(e=oe.push)||void 0===e||e.call(oe):null===oe||void 0===oe||null===(t=oe.pull)||void 0===t||t.call(oe)}),[y]),s.useEffect((function(){return function(){var e;null===oe||void 0===oe||null===(e=oe.pull)||void 0===e||e.call(oe)}}),[]);var le=K&&s.createElement(v.default,(0,r.A)({key:"mask"},F,{visible:y}),(function(e,t){var n=e.className,r=e.style;return s.createElement("div",{className:c()("".concat(f,"-mask"),n,U),style:(0,u.A)((0,u.A)({},r),q),onClick:z&&y?B:void 0,ref:t})})),ce="function"===typeof D?D(O):D,ue={};if(ne&&ie)switch(O){case"top":ue.transform="translateY(".concat(ie,"px)");break;case"bottom":ue.transform="translateY(".concat(-ie,"px)");break;case"left":ue.transform="translateX(".concat(ie,"px)");break;default:ue.transform="translateX(".concat(-ie,"px)")}"left"===O||"right"===O?ue.width=b(I):ue.height=b(L);var se={onMouseEnter:W,onMouseOver:X,onMouseLeave:Y,onClick:Q,onKeyDown:H,onKeyUp:$},de=s.createElement(v.default,(0,r.A)({key:"panel"},ce,{visible:y,forceRender:M,onVisibleChanged:function(e){null===_||void 0===_||_(e)},removeOnLeave:!1,leavedClassName:"".concat(f,"-content-wrapper-hidden")}),(function(t,n){var o=t.className,i=t.style;return s.createElement("div",(0,r.A)({className:c()("".concat(f,"-content-wrapper"),o),style:(0,u.A)((0,u.A)((0,u.A)({},ue),i),V)},(0,m.A)(e,{data:!0})),s.createElement(h,(0,r.A)({id:R,containerRef:n,prefixCls:f,className:P,style:N},se),T))})),fe=(0,u.A)({},S);return x&&(fe.zIndex=x),s.createElement(g.Provider,{value:ae},s.createElement("div",{className:c()(f,"".concat(f,"-").concat(O),A,(d={},(0,o.A)(d,"".concat(f,"-open"),y),(0,o.A)(d,"".concat(f,"-inline"),E),d)),style:fe,tabIndex:-1,ref:G,onKeyDown:function(e){var t=e.keyCode,n=e.shiftKey;switch(t){case p.A.TAB:var r;if(t===p.A.TAB)if(n||document.activeElement!==Z.current){if(n&&document.activeElement===J.current){var o;null===(o=Z.current)||void 0===o||o.focus({preventScroll:!0})}}else null===(r=J.current)||void 0===r||r.focus({preventScroll:!0});break;case p.A.ESC:B&&k&&(e.stopPropagation(),B(e))}}},le,s.createElement("div",{tabIndex:0,ref:J,style:w,"aria-hidden":"true","data-sentinel":"start"}),de,s.createElement("div",{tabIndex:0,ref:Z,style:w,"aria-hidden":"true","data-sentinel":"end"})))}const E=s.forwardRef(O);const C=function(e){var t=e.open,n=void 0!==t&&t,r=e.prefixCls,o=void 0===r?"rc-drawer":r,a=e.placement,l=void 0===a?"right":a,c=e.autoFocus,v=void 0===c||c,p=e.keyboard,m=void 0===p||p,g=e.width,h=void 0===g?378:g,y=e.mask,b=void 0===y||y,w=e.maskClosable,O=void 0===w||w,C=e.getContainer,M=e.forceRender,j=e.afterOpenChange,k=e.destroyOnClose,A=e.onMouseEnter,S=e.onMouseOver,x=e.onMouseLeave,P=e.onClick,R=e.onKeyDown,N=e.onKeyUp,D=s.useState(!1),I=(0,i.A)(D,2),L=I[0],T=I[1];var V=s.useState(!1),K=(0,i.A)(V,2),z=K[0],F=K[1];(0,f.A)((function(){F(!0)}),[]);var U=!!z&&n,q=s.useRef(),_=s.useRef();(0,f.A)((function(){U&&(_.current=document.activeElement)}),[U]);if(!M&&!L&&!U&&k)return null;var B={onMouseEnter:A,onMouseOver:S,onMouseLeave:x,onClick:P,onKeyDown:R,onKeyUp:N},W=(0,u.A)((0,u.A)({},e),{},{open:U,prefixCls:o,placement:l,autoFocus:v,keyboard:m,width:h,mask:b,maskClosable:O,inline:!1===C,afterOpenChange:function(e){var t,n;(T(e),null===j||void 0===j||j(e),e||!_.current||(null===(t=q.current)||void 0===t?void 0:t.contains(_.current)))||(null===(n=_.current)||void 0===n||n.focus({preventScroll:!0}))},ref:q},B);return s.createElement(d.A,{open:U||M||L,autoDestroy:!1,getContainer:C,autoLock:b&&(U||L)},s.createElement(E,W))};var M=n(5741),j=n(77643),k=n(49437),A=n(27895),S=n(93457),x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},P=((0,A.P)("default","large"),{distance:180});const R=function(e){var t=e.width,n=e.height,l=e.size,u=void 0===l?"default":l,d=e.closable,f=void 0===d||d,v=e.mask,p=void 0===v||v,m=e.push,g=void 0===m?P:m,h=e.closeIcon,y=void 0===h?s.createElement(a.A,null):h,b=e.bodyStyle,w=e.drawerStyle,O=e.className,E=e.visible,A=e.open,R=e.children,N=e.style,D=e.title,I=e.headerStyle,L=e.onClose,T=e.footer,V=e.footerStyle,K=e.prefixCls,z=e.getContainer,F=e.extra,U=e.afterVisibleChange,q=e.afterOpenChange,_=x(e,["width","height","size","closable","mask","push","closeIcon","bodyStyle","drawerStyle","className","visible","open","children","style","title","headerStyle","onClose","footer","footerStyle","prefixCls","getContainer","extra","afterVisibleChange","afterOpenChange"]),B=s.useContext(M.QO),W=B.getPopupContainer,X=B.getPrefixCls,Y=B.direction,Q=X("drawer",K),H=void 0===z&&W?function(){return W(document.body)}:z,$=f&&s.createElement("button",{type:"button",onClick:L,"aria-label":"Close",className:"".concat(Q,"-close")},y);[["visible","open"],["afterVisibleChange","afterOpenChange"]].forEach((function(e){var t=(0,i.A)(e,2);t[0],t[1]}));var G=c()((0,o.A)({"no-mask":!p},"".concat(Q,"-rtl"),"rtl"===Y),O),J=s.useMemo((function(){return null!==t&&void 0!==t?t:"large"===u?736:378}),[t,u]),Z=s.useMemo((function(){return null!==n&&void 0!==n?n:"large"===u?736:378}),[n,u]),ee={motionName:(0,k.by)(Q,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500};return s.createElement(S.K6,null,s.createElement(j.XB,{status:!0,override:!0},s.createElement(C,(0,r.A)({prefixCls:Q,onClose:L},_,{open:null!==A&&void 0!==A?A:E,mask:p,push:g,width:J,height:Z,rootClassName:G,getContainer:H,afterOpenChange:function(e){null===q||void 0===q||q(e),null===U||void 0===U||U(e)},maskMotion:ee,motion:function(e){return{motionName:(0,k.by)(Q,"panel-motion-".concat(e)),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}},rootStyle:N}),s.createElement("div",{className:"".concat(Q,"-wrapper-body"),style:(0,r.A)({},w)},D||f?s.createElement("div",{className:c()("".concat(Q,"-header"),(0,o.A)({},"".concat(Q,"-header-close-only"),f&&!D&&!F)),style:I},s.createElement("div",{className:"".concat(Q,"-header-title")},$,D&&s.createElement("div",{className:"".concat(Q,"-title")},D)),F&&s.createElement("div",{className:"".concat(Q,"-extra")},F)):null,s.createElement("div",{className:"".concat(Q,"-body"),style:b},R),function(){if(!T)return null;var e="".concat(Q,"-footer");return s.createElement("div",{className:e,style:V},T)}()))))}},70171:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(58168),o=n(9950),i=function(e){return e?"function"===typeof e?e():e:null},a=n(49437),l=n(5741),c=n(81541),u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},s=function(e){var t=e.title,n=e.content,r=e.prefixCls;return o.createElement(o.Fragment,null,t&&o.createElement("div",{className:"".concat(r,"-title")},i(t)),o.createElement("div",{className:"".concat(r,"-inner-content")},i(n)))};const d=o.forwardRef((function(e,t){var n=e.prefixCls,i=e.title,d=e.content,f=e._overlay,v=e.placement,p=void 0===v?"top":v,m=e.trigger,g=void 0===m?"hover":m,h=e.mouseEnterDelay,y=void 0===h?.1:h,b=e.mouseLeaveDelay,w=void 0===b?.1:b,O=e.overlayStyle,E=void 0===O?{}:O,C=u(e,["prefixCls","title","content","_overlay","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),M=o.useContext(l.QO).getPrefixCls,j=M("popover",n),k=M(),A=o.useMemo((function(){return f||(i||d?o.createElement(s,{prefixCls:j,title:i,content:d}):null)}),[f,i,d,j]);return o.createElement(c.A,(0,r.A)({placement:p,trigger:g,mouseEnterDelay:y,mouseLeaveDelay:w,overlayStyle:E},C,{prefixCls:j,ref:t,overlay:A,transitionName:(0,a.by)(k,"zoom-big",C.transitionName)}))}))},35023:(e,t,n)=>{function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.apply(n,[].concat(o,r))}}}function f(e){return{}.toString.call(e).includes("Object")}function v(e){return"function"===typeof e}n.d(t,{KE:()=>oe});var p=d((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),m={changes:function(e,t){return f(t)||p("changeType"),Object.keys(t).some((function(t){return n=e,r=t,!Object.prototype.hasOwnProperty.call(n,r);var n,r}))&&p("changeField"),t},selector:function(e){v(e)||p("selectorType")},handler:function(e){v(e)||f(e)||p("handlerType"),f(e)&&Object.values(e).some((function(e){return!v(e)}))&&p("handlersType")},initial:function(e){var t;e||p("initialIsRequired"),f(e)||p("initialType"),t=e,Object.keys(t).length||p("initialContent")}};function g(e,t){return v(t)?t(e.current):t}function h(e,t){return e.current=s(s({},e.current),t),t}function y(e,t,n){return v(t)?t(e.current):Object.keys(n).forEach((function(n){var r;return null===(r=t[n])||void 0===r?void 0:r.call(t,e.current[n])})),n}const b={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m.initial(e),m.handler(t);var n={current:e},r=d(y)(n,t),o=d(h)(n),i=d(m.changes)(e),a=d(g)(n);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return m.selector(e),e(n.current)},function(e){!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(r,o,i,a)(e)}]}};const w={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};const O=function(e){return{}.toString.call(e).includes("Object")};var E={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},C=function(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.apply(n,[].concat(o,r))}}}((function(e,t){throw new Error(e[t]||e.default)}))(E),M={config:function(e){return e||C("configIsRequired"),O(e)||C("configType"),e.urls?(console.warn(E.deprecation),{paths:{vs:e.urls.monacoBase}}):e}};const j=M;const k=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}};const A=function e(t,n){return Object.keys(n).forEach((function(r){n[r]instanceof Object&&t[r]&&Object.assign(n[r],e(t[r],n[r]))})),i(i({},t),n)};var S={type:"cancelation",msg:"operation is manually canceled"};const x=function(e){var t=!1,n=new Promise((function(n,r){e.then((function(e){return t?r(S):n(e)})),e.catch(r)}));return n.cancel=function(){return t=!0},n};var P,R,N=b.create({config:w,isInitialized:!1,resolve:null,reject:null,monaco:null}),D=(R=2,function(e){if(Array.isArray(e))return e}(P=N)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}}(P,R)||function(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(P,R)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),I=D[0],L=D[1];function T(e){return document.body.appendChild(e)}function V(e){var t=I((function(e){return{config:e.config,reject:e.reject}})),n=function(e){var t=document.createElement("script");return e&&(t.src=e),t}("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function K(){var e=I((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){z(t),e.resolve(t)}),(function(t){e.reject(t)}))}function z(e){I().monaco||L({monaco:e})}var F=new Promise((function(e,t){return L({resolve:e,reject:t})})),U={config:function(e){var t=j.config(e),n=t.monaco,r=a(t,["monaco"]);L((function(e){return{config:A(e.config,r),monaco:n}}))},init:function(){var e=I((function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}}));if(!e.isInitialized){if(L({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),x(F);if(window.monaco&&window.monaco.editor)return z(window.monaco),e.resolve(window.monaco),x(F);k(T,V)(K)}return x(F)},__getMonacoInstance:function(){return I((function(e){return e.monaco}))}};const q=U;var _=n(9950),B={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},W={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}};var X=function(e){let{children:t}=e;return _.createElement("div",{style:W.container},t)};var Y=function(e){let{width:t,height:n,isEditorReady:r,loading:o,_ref:i,className:a,wrapperProps:l}=e;return _.createElement("section",{style:{...B.wrapper,width:t,height:n},...l},!r&&_.createElement(X,null,o),_.createElement("div",{ref:i,style:{...B.fullWidth,...!r&&B.hide},className:a}))},Q=(0,_.memo)(Y);var H=function(e){(0,_.useEffect)(e,[])};var $=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=(0,_.useRef)(!0);(0,_.useEffect)(r.current||!n?()=>{r.current=!1}:e,t)};function G(){}function J(e,t,n,r){return function(e,t){return e.editor.getModel(Z(e,t))}(e,r)||function(e,t,n,r){return e.editor.createModel(t,n,r?Z(e,r):void 0)}(e,t,n,r)}function Z(e,t){return e.Uri.parse(t)}var ee=function(e){let{original:t,modified:n,language:r,originalLanguage:o,modifiedLanguage:i,originalModelPath:a,modifiedModelPath:l,keepCurrentOriginalModel:c=!1,keepCurrentModifiedModel:u=!1,theme:s="light",loading:d="Loading...",options:f={},height:v="100%",width:p="100%",className:m,wrapperProps:g={},beforeMount:h=G,onMount:y=G}=e,[b,w]=(0,_.useState)(!1),[O,E]=(0,_.useState)(!0),C=(0,_.useRef)(null),M=(0,_.useRef)(null),j=(0,_.useRef)(null),k=(0,_.useRef)(y),A=(0,_.useRef)(h),S=(0,_.useRef)(!1);H((()=>{let e=q.init();return e.then((e=>(M.current=e)&&E(!1))).catch((e=>"cancelation"!==(null===e||void 0===e?void 0:e.type)&&console.error("Monaco initialization: error:",e))),()=>C.current?function(){var e,t,n,r;let o=null===(e=C.current)||void 0===e?void 0:e.getModel();c||null!==o&&void 0!==o&&null!==(t=o.original)&&void 0!==t&&t.dispose(),u||null!==o&&void 0!==o&&null!==(n=o.modified)&&void 0!==n&&n.dispose(),null===(r=C.current)||void 0===r||r.dispose()}():e.cancel()})),$((()=>{if(C.current&&M.current){let e=C.current.getOriginalEditor(),n=J(M.current,t||"",o||r||"text",a||"");n!==e.getModel()&&e.setModel(n)}}),[a],b),$((()=>{if(C.current&&M.current){let e=C.current.getModifiedEditor(),t=J(M.current,n||"",i||r||"text",l||"");t!==e.getModel()&&e.setModel(t)}}),[l],b),$((()=>{let e=C.current.getModifiedEditor();e.getOption(M.current.editor.EditorOption.readOnly)?e.setValue(n||""):n!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:n||"",forceMoveMarkers:!0}]),e.pushUndoStop())}),[n],b),$((()=>{var e;null===(e=C.current)||void 0===e||null===(e=e.getModel())||void 0===e||e.original.setValue(t||"")}),[t],b),$((()=>{let{original:e,modified:t}=C.current.getModel();M.current.editor.setModelLanguage(e,o||r||"text"),M.current.editor.setModelLanguage(t,i||r||"text")}),[r,o,i],b),$((()=>{var e;null===(e=M.current)||void 0===e||e.editor.setTheme(s)}),[s],b),$((()=>{var e;null===(e=C.current)||void 0===e||e.updateOptions(f)}),[f],b);let x=(0,_.useCallback)((()=>{var e;if(!M.current)return;A.current(M.current);let c=J(M.current,t||"",o||r||"text",a||""),u=J(M.current,n||"",i||r||"text",l||"");null===(e=C.current)||void 0===e||e.setModel({original:c,modified:u})}),[r,n,i,t,o,a,l]),P=(0,_.useCallback)((()=>{var e;!S.current&&j.current&&(C.current=M.current.editor.createDiffEditor(j.current,{automaticLayout:!0,...f}),x(),null!==(e=M.current)&&void 0!==e&&e.editor.setTheme(s),w(!0),S.current=!0)}),[f,s,x]);return(0,_.useEffect)((()=>{b&&k.current(C.current,M.current)}),[b]),(0,_.useEffect)((()=>{!O&&!b&&P()}),[O,b,P]),_.createElement(Q,{width:p,height:v,isEditorReady:b,loading:d,_ref:j,className:m,wrapperProps:g})};(0,_.memo)(ee);var te=function(e){let t=(0,_.useRef)();return(0,_.useEffect)((()=>{t.current=e}),[e]),t.current},ne=new Map;var re=function(e){let{defaultValue:t,defaultLanguage:n,defaultPath:r,value:o,language:i,path:a,theme:l="light",line:c,loading:u="Loading...",options:s={},overrideServices:d={},saveViewState:f=!0,keepCurrentModel:v=!1,width:p="100%",height:m="100%",className:g,wrapperProps:h={},beforeMount:y=G,onMount:b=G,onChange:w,onValidate:O=G}=e,[E,C]=(0,_.useState)(!1),[M,j]=(0,_.useState)(!0),k=(0,_.useRef)(null),A=(0,_.useRef)(null),S=(0,_.useRef)(null),x=(0,_.useRef)(b),P=(0,_.useRef)(y),R=(0,_.useRef)(),N=(0,_.useRef)(o),D=te(a),I=(0,_.useRef)(!1),L=(0,_.useRef)(!1);H((()=>{let e=q.init();return e.then((e=>(k.current=e)&&j(!1))).catch((e=>"cancelation"!==(null===e||void 0===e?void 0:e.type)&&console.error("Monaco initialization: error:",e))),()=>A.current?function(){var e,t;null!==(e=R.current)&&void 0!==e&&e.dispose(),v?f&&ne.set(a,A.current.saveViewState()):null===(t=A.current.getModel())||void 0===t||t.dispose(),A.current.dispose()}():e.cancel()})),$((()=>{var e,l,c,u;let s=J(k.current,t||o||"",n||i||"",a||r||"");s!==(null===(e=A.current)||void 0===e?void 0:e.getModel())&&(f&&ne.set(D,null===(l=A.current)||void 0===l?void 0:l.saveViewState()),null!==(c=A.current)&&void 0!==c&&c.setModel(s),f&&(null===(u=A.current)||void 0===u||u.restoreViewState(ne.get(a))))}),[a],E),$((()=>{var e;null===(e=A.current)||void 0===e||e.updateOptions(s)}),[s],E),$((()=>{!A.current||void 0===o||(A.current.getOption(k.current.editor.EditorOption.readOnly)?A.current.setValue(o):o!==A.current.getValue()&&(L.current=!0,A.current.executeEdits("",[{range:A.current.getModel().getFullModelRange(),text:o,forceMoveMarkers:!0}]),A.current.pushUndoStop(),L.current=!1))}),[o],E),$((()=>{var e,t;let n=null===(e=A.current)||void 0===e?void 0:e.getModel();n&&i&&(null===(t=k.current)||void 0===t||t.editor.setModelLanguage(n,i))}),[i],E),$((()=>{var e;void 0!==c&&(null===(e=A.current)||void 0===e||e.revealLine(c))}),[c],E),$((()=>{var e;null===(e=k.current)||void 0===e||e.editor.setTheme(l)}),[l],E);let T=(0,_.useCallback)((()=>{if(S.current&&k.current&&!I.current){var e;P.current(k.current);let u=a||r,v=J(k.current,o||t||"",n||i||"",u||"");A.current=null===(e=k.current)||void 0===e?void 0:e.editor.create(S.current,{model:v,automaticLayout:!0,...s},d),f&&A.current.restoreViewState(ne.get(u)),k.current.editor.setTheme(l),void 0!==c&&A.current.revealLine(c),C(!0),I.current=!0}}),[t,n,r,o,i,a,s,d,f,l,c]);return(0,_.useEffect)((()=>{E&&x.current(A.current,k.current)}),[E]),(0,_.useEffect)((()=>{!M&&!E&&T()}),[M,E,T]),N.current=o,(0,_.useEffect)((()=>{var e,t;E&&w&&(null!==(e=R.current)&&void 0!==e&&e.dispose(),R.current=null===(t=A.current)||void 0===t?void 0:t.onDidChangeModelContent((e=>{L.current||w(A.current.getValue(),e)})))}),[E,w]),(0,_.useEffect)((()=>{if(E){let e=k.current.editor.onDidChangeMarkers((e=>{var t;let n=null===(t=A.current.getModel())||void 0===t?void 0:t.uri;if(n&&e.find((e=>e.path===n.path))){let e=k.current.editor.getModelMarkers({resource:n});null===O||void 0===O||O(e)}}));return()=>{null===e||void 0===e||e.dispose()}}return()=>{}}),[E,O]),_.createElement(Q,{width:p,height:m,isEditorReady:E,loading:u,_ref:S,className:g,wrapperProps:h})},oe=(0,_.memo)(re)}}]);