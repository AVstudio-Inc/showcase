"use strict";(self.webpackChunkwebapp=self.webpackChunkwebapp||[]).push([[9019],{68513:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(44719);const a=e=>o.A.confirm({zIndex:3e3,...e})},92837:(e,t,n)=>{n.d(t,{D:()=>r,Y:()=>s});var o,a,l=n(57528),i=n(86006);const s=i.Ay.div(o||(o=(0,l.A)(["\n  position: relative;\n  height: 100%;\n  overflow-y: scroll;\n  display: grid;\n  gap: 1vmax;\n  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\n  align-content: flex-start;\n"]))),r=i.Ay.div(a||(a=(0,l.A)(["\n  position: relative;\n  width: 100%;\n  max-width: 100%;\n\n  .ant-upload-drag {\n    height: 150px;\n  }\n\n  .ant-upload-list-text-container {\n    position: relative;\n    width: 100%;\n  }\n\n  .ant-upload-list-item-name {\n    width: 100px;\n    overflow: hidden;\n  }\n"])))},1291:(e,t,n)=>{n.d(t,{A:()=>d});var o=n(92759),a=n(72540),l=n(48362),i=n(28429),s=n(88349),r=n(92837),c=n(44414);const d=e=>{let{uploadState:t,setUploadState:n,type:d}=e;const{projectId:p}=(0,i.g)(),u="font"===d?".ttf, .otf":".png, .jpg, .jpeg, .svg, .webp",m={name:"file",multiple:!0,customRequest:e=>{n("uploading"),p&&(0,l.Hk)({projectId:Number(p),eventData:e}).then((()=>{n(""),o.Ay.success("File uploaded")}))},onChange(e){const{status:t}=e.file;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?o.Ay.success("".concat(e.file.name," file uploaded successfully.")):"error"===t&&o.Ay.error("".concat(e.file.name," file upload failed."))},onDrop(e){},onRemove(e){console.log("Remove files",e)},fileList:[],accept:u,disabled:""!==t};return(0,c.jsx)(r.D,{children:(0,c.jsxs)(a.A,{...m,children:[(0,c.jsx)("p",{className:"ant-upload-drag-icon",children:(0,c.jsx)(s.A,{})}),(0,c.jsxs)("small",{children:["Click or drag file to this area to upload ",(0,c.jsx)("br",{})," ",u]})]})})}},9019:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var o=n(22718),a=n(92759),l=n(72429),i=n(35492),s=n(1291),r=n(44070),c=n(9950),d=n(67376),p=n(2260),u=n(64983),m=n(68513),f=n(48362),v=n(44414);const{Title:x}=o.A,g=c.memo((()=>{const[e,t]=(0,c.useState)(""),n=(0,u.f)((e=>{var t,n,o,a,l;return null!==(t=null===(n=e.workingProject)||void 0===n||null===(o=n.attributes)||void 0===o||null===(a=o.media)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.filter((e=>e.attributes.mime.includes("font"))))&&void 0!==t?t:[]})),o=e=>{let{name:t,createCss:n}=e;const o=n?".".concat(t," {font-family: ").concat(t,";}"):t;try{if(!navigator.clipboard)throw a.Ay.error("Clipboard API not available"),new Error("Clipboard API not available");navigator.clipboard.writeText(o).catch((e=>{console.error("Unable to copy to clipboard.",e),a.Ay.error("Unable to copy to clipboard.")}))}catch(l){console.error("Clipboard API not available.",l)}},g=n.map((e=>{var n,i;const[s="name",c="ext"]=null===e||void 0===e||null===(n=e.attributes)||void 0===n||null===(i=n.name)||void 0===i?void 0:i.split(".");return{key:e.id,name:s,ext:c,preview:(0,v.jsx)("div",{style:{fontFamily:"".concat(s),fontSize:"2em"},children:"AVstudio rocks! 0123456789 [@ / * & ^ % $ # ? ! () ]"}),fontsActions:(0,v.jsx)(l.A.Button,{menu:{items:[{key:"delete",icon:(0,v.jsx)(r.A,{}),label:"Delete font",danger:!0,onClick:()=>(0,m.A)({title:"Delete font: ".concat(s,".").concat(c," ?"),content:"This will remove font ".concat(s,". This action can not be undone."),okText:"Delete font",cancelText:"Cancel",okButtonProps:{danger:!0},onOk:()=>{(e=>{var n;const o=null===(n=u.f.getState().workingProject)||void 0===n?void 0:n.id;o&&(t("removing"),(0,f.w8)(o,e).then((()=>{a.Ay.success("File deleted")})).finally((()=>t(""))))})(e.id)},onCancel:()=>console.log("cancel font delete")})},{key:"copyFontname",icon:(0,v.jsx)(d.A,{}),label:"Copy Font Name",onClick:()=>o({name:s})},{key:"copyFontCss",icon:(0,v.jsx)(d.A,{}),label:"Copy Font Css",onClick:()=>o({name:s,createCss:!0})}]}})}}));return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(x,{id:"Fonts",style:{margin:"15px 0"},level:5,children:["Fonts"," ",""!==e&&(0,v.jsx)(p.A,{})]}),(0,v.jsx)(i.A,{style:{marginBottom:"1em"},columns:[{title:"Name",dataIndex:"name"},{title:"Extension",dataIndex:"ext"},{title:"Preview",dataIndex:"preview"},{title:"Actions",width:"100px",dataIndex:"fontsActions"}],dataSource:g,pagination:!1}),(0,v.jsx)(s.A,{type:"font",uploadState:e,setUploadState:t})]})}))}}]);