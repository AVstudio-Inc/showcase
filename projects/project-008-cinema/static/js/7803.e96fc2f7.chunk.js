"use strict";(self.webpackChunkwebapp=self.webpackChunkwebapp||[]).push([[7803],{13251:(e,t,n)=>{n.r(t),n.d(t,{default:()=>U});var o,a,r=n(9950),i=n(76382),l=n(65368),s=n(21252),c=n(64983),u=n(49211),d=n(66963),f=n(46931),v=n(97592),g=n(57528),p=n(86006);const m=p.Ay.div(o||(o=(0,g.A)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-flow: column;\n  background-color: #131a25;\n  color: #fff;\n  gap: 2em;\n\n  small {\n    opacity: 0.2;\n    font-size: 0.7em;\n    text-transform: uppercase;\n  }\n"])));p.Ay.div(a||(a=(0,g.A)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  margin: auto;\n"])));var h,b;function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},E.apply(this,arguments)}function S(e,t){let{title:n,titleId:o,...a}=e;return r.createElement("svg",E({width:106,height:50,viewBox:"0 0 106 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},a),n?r.createElement("title",{id:o},n):null,h||(h=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.354 30.2539H5.88856L3.49084 36.6361L0 32.4753L6.27646 16.9253H11.0367L17.3131 33.0748H12.3061L11.354 30.2539ZM10.0141 26.3399L8.63893 22.2849L7.22849 26.3399H10.0141ZM30.6418 16.9253L24.5769 33.0395H19.8166L13.7165 16.9253H18.9351L22.3554 26.3399L25.8815 16.9253H30.6418ZM40.1975 24.5416H44.4288V31.3822C42.6657 32.7222 40.268 33.4274 38.1523 33.4274C33.5331 33.4274 30.1481 29.9365 30.1481 25C30.1481 20.0282 33.5331 16.5374 38.2581 16.5374C41.079 16.5374 43.3709 17.6657 44.8166 19.6756L41.7137 22.7433C40.8322 21.5444 39.7743 20.945 38.5049 20.945C36.3893 20.945 35.0141 22.4965 35.0141 25C35.0141 27.3978 36.3893 29.0198 38.4344 29.0198C39.0339 29.0198 39.598 28.914 40.1975 28.6319V24.5416ZM56.5938 30.2186H51.1284L50.1763 33.0395H45.2398L51.5515 16.9253H56.3117L62.5882 33.0395H57.5811L56.5938 30.2186ZM55.2539 26.3047L53.8434 22.2497L52.4683 26.3047H55.2539ZM64.7743 21.1213H60.543V16.89H73.8012V21.1213H69.6051V33.0395H64.7743V21.1213ZM74.5064 24.9647C74.5064 20.0635 77.9267 16.5374 82.6164 16.5374C87.2708 16.5374 90.6911 20.0635 90.6911 24.9647C90.6911 29.8308 87.2708 33.3921 82.6164 33.3921C77.9267 33.3921 74.5064 29.8308 74.5064 24.9647ZM85.8251 24.9647C85.8251 22.4612 84.3794 20.9097 82.6164 20.9097C80.8181 20.9097 79.3724 22.4612 79.3724 24.9647C79.3724 27.4683 80.8181 28.9845 82.6164 28.9845C84.3794 28.9845 85.8251 27.4683 85.8251 24.9647ZM98.3075 28.9845H97.0028V33.0395H92.1368V16.89H99.0832C103.068 16.89 105.606 19.2525 105.606 22.9901C105.606 25.3174 104.619 27.0451 102.891 28.0325L105.924 33.0395L102.891 36.6009L98.3075 28.9845ZM98.7659 21.1213H97.0028V24.8942H98.7659C100.106 24.8942 100.74 24.189 100.74 22.9901C100.74 21.8265 100.106 21.1213 98.7659 21.1213Z",fill:"currentColor"})),b||(b=r.createElement("path",{d:"M67.2779 13.3286L58.0043 2.29196L60.7546 0L67.2779 7.82792L73.8364 0L76.5515 2.29196L67.2779 13.3286ZM53.8434 0.0352631L63.1171 11.0719L60.402 13.3639L53.8434 5.57122L47.2849 13.3639L44.5698 11.0719L53.8434 0.0352631ZM31.1354 2.29196L33.8505 0L40.409 7.82792L46.9323 0L49.6827 2.29196L40.409 13.3286L31.1354 2.29196ZM76.5515 47.708L73.8364 50L67.2779 42.2073L60.7546 50L58.0043 47.708L67.2779 36.6714L76.5515 47.708ZM44.5698 38.8928L47.2849 36.6008L53.8434 44.4288L60.402 36.6008L63.1171 38.8928L53.8434 49.9647L44.5698 38.8928ZM40.409 36.6361L49.6474 47.6728L46.9323 49.9647L40.409 42.1721L33.8505 49.9647L31.1354 47.6728L40.409 36.6361Z",fill:"#BB163F"})))}const C=r.forwardRef(S);n.p;var w;function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},L.apply(this,arguments)}function j(e,t){let{title:n,titleId:o,...a}=e;return r.createElement("svg",L({width:38,height:38,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"#fff",ref:t,"aria-labelledby":o},a),n?r.createElement("title",{id:o},n):null,w||(w=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",{transform:"translate(1 1)",strokeWidth:2},r.createElement("circle",{strokeOpacity:.5,cx:18,cy:18,r:18}),r.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18"},r.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}))))))}const x=r.forwardRef(j);n.p;var P=n(35865),y=n(581),A=n(32566),I=n(16722),k=n(29297),M=n(44468),H=n(3215);const O=()=>{const[e,t]=(0,r.useState)(!1),n=(0,v.Q)((e=>e.cacheQueue)),o=(0,c.f)((e=>{var t,n;return null!==(t=null===(n=e.workingProject)||void 0===n?void 0:n.attributes.media.data)&&void 0!==t?t:[]})),a=(0,H.G)((e=>e.current.filter((e=>e.isImagePreloadSource))));(0,r.useEffect)((()=>{e||(0,M.c8)().then((e=>{"OK"===e&&console.info("Project library images cleared")})).catch((e=>{console.info(e)})).finally((()=>{t(!0)}))}),[e]),(0,r.useEffect)((()=>{if(!e)return;const t=setTimeout((()=>{if(null!==a&&void 0!==a&&a.length){var e;const t=[];a.forEach((e=>{const n=e.value;(function(e){if(!Array.isArray(e))return!1;for(const t of e)if("string"!==typeof t)return!1;return!0})(n)?n.forEach((e=>{t.push({useExternalUrl:!0,externalUrl:e})})):console.log("Error preload in datasource ".concat(e.id,": Not a string array"))})),console.info("Start processing cache media preload: ".concat(null!==(e=null===t||void 0===t?void 0:t.length)&&void 0!==e?e:0," items to add")),(0,M.vF)(t).then((()=>{console.info("Processing media preload has been finished successfully")})).catch((()=>{console.info("Processing media preload has been finished with errors")}))}}),1e3);return()=>clearTimeout(t)}),[a,e]),(0,r.useEffect)((()=>{if(!e)return;const t=setTimeout((()=>{n.length&&(console.info("Start processing cache queue: ".concat(n.length," items to add")),(0,M.vF)(n).then((()=>{console.info("Processing cacheQueue has been finished successfully")})).catch((()=>{console.info("Processing cacheQueue has been finished with errors")})).finally((()=>{(0,v.Q.getState().updateEnvStore)({cacheQueue:[]})})))}),1e3);return()=>clearTimeout(t)}),[n,e]),(0,r.useEffect)((()=>{if(e&&null!==o&&void 0!==o&&o.length){let e=[];o.forEach((t=>{e.push({imgId:t.id})}));(async()=>{await(0,M.vF)(e).catch((e=>console.log(e)))})().then((()=>{console.info("Project library images cached")})).catch((()=>{console.info("Project library images not cached")}))}}),[e,o])};var V=n(28429),N=n(42074),T=n(92759),_=n(48538),Z=n(44719),R=n(50279),D=n(27144),X=n(2260),F=n(56109),Q=n(33490),W=n(44414);const z=r.memo((e=>{let{isFallback:t}=e;const n=(0,V.zy)();t&&T.Ay.error("Target page not found! Url: ".concat(n.pathname));const o=function(){var e,t,n,o;const a=null===(e=c.f.getState().workingProject)||void 0===e?void 0:e.attributes.pages.data;if(null===a||void 0===a||!a.length)return null;const r=null===(t=c.f.getState().workingProject)||void 0===t?void 0:t.attributes.startPage,i=a.find((e=>String(e.id)===String(r))),l=null===i||void 0===i?void 0:i.attributes.name;return l?(0,R.A)(l):a[0].attributes.name?(0,R.A)(a[0].attributes.name):l?(0,R.A)(l):null!==a&&void 0!==a&&null!==(n=a[0])&&void 0!==n&&null!==(o=n.attributes)&&void 0!==o&&o.name?(0,R.A)(a[0].attributes.name):null}();return o?(0,W.jsx)(V.C5,{to:o}):(0,W.jsx)(V.C5,{to:"/"})})),B=()=>{const e=(0,V.zy)(),t=(0,V.Zp)();return(0,W.jsxs)(m,{children:[(0,W.jsxs)("small",{children:["requested url is: ",e.pathname]}),(0,W.jsx)("div",{style:{fontSize:"min(40px,4vw)"},children:"Page not found"}),(0,W.jsx)(_.A,{shape:"round",type:"primary",onClick:()=>{t("/")},children:"Go to Home"}),(0,W.jsx)("small",{children:"powered by AVgator.com"}),(0,W.jsx)(C,{})]})};const U=r.memo((()=>{const[e,t]=(0,r.useState)(!1),[o,a]=(0,r.useState)(!1),[g,p]=(0,r.useState)(!1),h=u.A.get("token"),b=(0,c.f)((e=>{var t;return null===(t=e.workingProject)||void 0===t?void 0:t.attributes.datasources.data})),E=(0,c.f)((e=>{var t;return null===(t=e.workingProject)||void 0===t?void 0:t.attributes.variables})),S=(0,c.f)((e=>{var t;return null===(t=e.workingProject)||void 0===t?void 0:t.attributes.pages.data})),w=(0,v.Q)((e=>e.envState)),L=(0,c.f)((e=>{var t,n;return null===(t=e.workingProject)||void 0===t||null===(n=t.attributes.debugOptions)||void 0===n?void 0:n.showConsoleOnLoad})),j=(0,c.f)((e=>{var t;return null===(t=e.workingProject)||void 0===t?void 0:t.attributes.selectedEnv})),M=(0,c.f)((e=>{var t;return null===(t=e.workingProject)||void 0===t?void 0:t.attributes.env})),H=(0,r.useMemo)((()=>{if(j){var e,t;return(null===M||void 0===M||null===(e=M.find((e=>e.envId===j)))||void 0===e||null===(t=e.debugOptions)||void 0===t?void 0:t.showConsoleOnLoad)||!1}return L}),[M,j,L]);(0,r.useEffect)((()=>{if(H){console.info("Show console on load");const e=n(31097);return e.init(),e.show(),()=>{e.destroy()}}}),[H]),(0,A.A)({initVariableArr:E}),O(),(0,I.A)();const{fillWorkingProject:T}=c.f.getState(),{setMainMenuData:U}=P.x.getState(),{setEnvState:q}=v.Q.getState(),K=k.D.getState().updateXpanelStore;(0,r.useEffect)((()=>{q("build"),U({showBoundingBox:!1})}),[q,U,K]),(0,r.useEffect)((()=>{if("build"===w){let e=window.staticdata;e&&(e.attributes.pages.data=e.attributes.pages.data.map((e=>{let t=e.attributes.uid;return t&&(e.id=t),e})),T(e)),i.T({dsn:"https://78032cbe9c7c4b11bb0e377973279c59@o4504869716033536.ingest.sentry.io/4504870140772352",tracesSampleRate:1,release:"16dev",integrations:[new l.IQ.Breadcrumbs({console:!1})]})}}),[w,T]);const[G,$]=(0,r.useState)(!1),J=(0,r.useMemo)((()=>{if(E){return E.filter((e=>"boolean"===(null===e||void 0===e?void 0:e.type)&&(null===e||void 0===e?void 0:e.waitForLoadingUi))).map((e=>e.name))}return null}),[E]),Y=(0,Q.c)((e=>e.calculatedVariables));(0,r.useEffect)((()=>{if(null!==J)if(J.length)if(null!==Y&&void 0!==Y&&Y.length){const e=[];J.forEach((t=>{const n=Y.find((e=>e.name===t));if(!n)return;const{currentValue:o,defaultValue:a}=n,r=void 0===o?a:o;e.push(!!r)})),console.log("uiVarsValues",e),e.some((e=>!1===e))?($(!1),console.log("waiting for ui variables")):$(!0)}else $(!1);else console.log("No UI Variables to waiting for"),$(!0);else $(!1)}),[J,Y]);const[ee,te]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const e=setTimeout((()=>{te(!0)}),3e3);return()=>clearTimeout(e)}),[G]),(0,r.useEffect)((()=>{ee&&G&&b&&!e&&!o&&(a(!0),setTimeout((()=>{(0,y.$v)().then((()=>{t(!0),a(!1)}))}),2e3))}),[e,w,ee,b,G]);const ne=(0,r.useMemo)((()=>window.location.hostname.split(".")[0]),[]),oe=(0,d.A)({projectId:ne,isEditor:!1,jwt:h,autoConnect:!0});(0,r.useEffect)((()=>{oe&&ne&&(oe.on("connect",(()=>{console.log("Socket LIVE connected!"),p(!0);c.f.getState().workingProject||(console.log("produce init request"),oe.emit("requestProject",{id:ne}))})),oe.on("project",(e=>{e&&(console.log("project data received from socket"),T(e))})),oe.on("disconnect",(()=>{console.log("Socket LIVE disconnected!"),p(!1)})))}),[T,ne,oe]);const ae=(0,r.useMemo)((()=>null!==S&&void 0!==S&&S.length?S.map(((e,t)=>({path:(0,R.A)(e.attributes.name),element:(0,W.jsx)(D.A,{data:e},t)}))):[]),[S]),re=()=>{const e=(0,V.zy)(),t=(0,V.Zp)();return(0,W.jsxs)(m,{children:[(0,W.jsxs)("small",{children:["requested url is: ",e.pathname]}),(0,W.jsx)("div",{style:{fontSize:"min(40px,4vw)"},children:"Page not found"}),(0,W.jsx)(_.A,{shape:"round",type:"primary",onClick:()=>{t("/")},children:"Go to Home"}),(0,W.jsx)("small",{children:"powered by AVgator.com"}),(0,W.jsx)(C,{})]})},ie=(0,r.useMemo)((()=>(0,N.Ge)([{path:"/",element:(0,W.jsx)(f.A,{pages:null!==S&&void 0!==S?S:[]}),children:[{path:"/",element:(0,W.jsx)(z,{})},...ae,{path:"*",element:(0,W.jsx)(re,{})}]}])),[S,ae]);return(0,F.A)(),ee&&G&&null!==S&&void 0!==S&&S.length&&e?(0,W.jsxs)(s.tH,{fallback:(0,W.jsx)("div",{children:"An error has occurred"}),children:["live"!==w||g?null:(0,W.jsx)(Z.A,{closable:!1,title:(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(X.A,{style:{marginRight:5}})," Connecting to LIVE server..."]}),open:!0,onOk:()=>{},footer:(0,W.jsx)(_.A,{type:"primary",onClick:()=>{window.location.reload()},children:"Reload"}),children:(0,W.jsx)("p",{children:"Establishing a connection for instant updates to your project data."})}),(0,W.jsx)(N.pg,{router:ie,fallbackElement:(0,W.jsx)(B,{})})]}):(0,W.jsxs)(m,{children:[(0,W.jsx)("small",{children:"powered by AVgator.com"}),(0,W.jsx)(C,{}),(0,W.jsx)(x,{})]})}))},66963:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(9950),a=n(53705);const r=e=>{let{projectId:t,isEditor:n,jwt:r,autoConnect:i}=e;const[l,s]=(0,o.useState)(null);return(0,o.useEffect)((()=>{let e;if(!l&&r&&t&&i){console.log("before live connect",{socketInstance:l,autoConnect:i,jwt:r,projectId:t,isEditor:n});const o="".concat("http://api.avstudio.local","?isEditor=").concat(n?"true":"false","&projectId=").concat(t);e=(0,a.io)(o,{forceNew:!0,auth:{token:r}}),s(e)}}),[i,n,r,t,l]),(0,o.useEffect)((()=>{t||(null===l||void 0===l||l.off(),null===l||void 0===l||l.disconnect(),s(null))}),[t,l]),l}},16722:(e,t,n)=>{n.d(t,{A:()=>g});var o=n(27379),a=n(9950),r=n(44677),i=n(68513),l=n(29297),s=n(64983),c=n(92759),u=n(97592),d=n(74744),f=n.n(d),v=n(44414);const g=()=>{const e=(0,s.f)((e=>{var t;return null===(t=e.workingProject)||void 0===t?void 0:t.attributes.webXpanel})),[t,n]=(0,a.useState)(e),d=(0,a.useMemo)((()=>(0,r.getWebXPanel)(!(0,r.runsInContainerApp)())),[]),{isActive:g,WebXPanel:p,WebXPanelEvents:m}=d,{xPanelStatus:h,manualStartConnect:b,updateXpanelStore:E}=(0,l.D)(),S=(0,u.Q)((e=>e.envState)),C=(0,s.f)((e=>{var t;return null===(t=e.workingProject)||void 0===t?void 0:t.attributes.env})),w=(0,s.f)((e=>{var t;return null===(t=e.workingProject)||void 0===t?void 0:t.attributes.selectedEnv})),L=(0,a.useMemo)((()=>null===C||void 0===C?void 0:C.find((e=>e.envId===w))),[C,w]);(0,a.useEffect)((()=>{let t=e;if(w){var o;const n=null!==(o=null===L||void 0===L?void 0:L.webXpanel)&&void 0!==o?o:{};t={...e,...n}}n((e=>f().diff(e,t)?t:e))}),[e,C,w,L]),(0,a.useEffect)((()=>{const e=u.Q.getState().envState;let n=!1;"build"!==e&&"live"!==e||(n=!0),E({xPanelStatus:"disconnected",lastErrorMessage:"",manualStartConnect:n}),console.info("XPanel config changed to: ",t)}),[t,E]),(0,a.useEffect)((()=>{var e;console.info("Current Environment: ",null!==(e=null===L||void 0===L?void 0:L.envName)&&void 0!==e?e:"Default");const t=u.Q.getState().envState;"editor"!==t&&"preview"!==t||E({xPanelStatus:"disconnected",lastErrorMessage:"",manualStartConnect:!1})}),[L,E]),(0,a.useEffect)((()=>{console.info("xPanelStatus: ",h)}),[h]),(0,a.useEffect)((()=>{var e;"live"===S&&(document.title=g?"xPanel: ".concat(h,",env: ").concat(null!==(e=null===L||void 0===L?void 0:L.envName)&&void 0!==e?e:"Default"):"xPanel no active")}),[S,g,L,h]);const[j,x]=(0,a.useState)("");(0,a.useEffect)((()=>{if(!g)return E({xPanelStatus:"disconnected",lastErrorMessage:"WebXPanel is not active",manualStartConnect:!1}),void console.info("WebXPanel is not active");if(!t)return E({xPanelStatus:"disconnected",lastErrorMessage:"No xPanel config provided",manualStartConnect:!1}),void console.info("No xPanel config provided");if(b&&!j&&g){if(E({xPanelStatus:"connecting",lastErrorMessage:""}),null===t||void 0===t||!t.host)return E({xPanelStatus:"disconnected",lastErrorMessage:"No webXpanel connnection host provided",manualStartConnect:!1}),console.info("No webXpanel connnection host provided"),void c.Ay.warning("No webXpanel connnection host provided");if(null===t||void 0===t||!t.ipId)return E({xPanelStatus:"disconnected",lastErrorMessage:"No webXpanel connnection ipId provided",manualStartConnect:!1}),console.info("No webXpanel connnection ipId provided"),void c.Ay.warning("No webXpanel connnection ipId provided");console.info("Connection initialization...",t),p.initialize(t)}}),[p,g,b,j,E,t]),(0,a.useEffect)((()=>{"connecting"!==h&&E({lastErrorMessage:""})}),[E,h]),(0,a.useEffect)((()=>{p.addEventListener(m.CONNECT_CIP,(e=>{let{detail:t}=e;const{url:n,ipId:o,roomId:a}=t;console.info("Connected to ".concat(n,", 0x").concat(o.toString(16),", ").concat(a)),E({xPanelStatus:"connected",manualStartConnect:!1}),c.Ay.success("Connected to ".concat(n,", 0x").concat(o.toString(16),", ").concat(a))})),p.addEventListener(m.DISCONNECT_CIP,(e=>{let{detail:t}=e;const{reason:n}=t;"disconnected"!==l.D.getState().xPanelStatus&&(console.info("Disconnected from CIP. Reason: ".concat(n)),E({xPanelStatus:"disconnected",manualStartConnect:!1,lastErrorMessage:"Disconnected from CIP. Reason: ".concat(n)}))})),p.addEventListener(m.ERROR_WS,(()=>{E({xPanelStatus:"disconnected",manualStartConnect:!1,lastErrorMessage:"WebSocket CIP Error"}),console.warn("xPanel WebSocket Error")})),p.addEventListener(m.FETCH_TOKEN_FAILED,(()=>{E({xPanelStatus:"disconnected",manualStartConnect:!1,lastErrorMessage:"WebSocket CIP FETCH_TOKEN_FAILED"}),console.info("FETCH_TOKEN_FAILED")})),p.addEventListener(m.NOT_AUTHORIZED,(e=>{let{detail:t}=e;const{redirectTo:n}=t;console.log("Received a redirect to: ".concat(n)),console.info("Crestron auth needed"),x(n),E({manualStartConnect:!1})}))}),[p,m.CONNECT_CIP,m.DISCONNECT_CIP,m.ERROR_WS,m.FETCH_TOKEN_FAILED,m.NOT_AUTHORIZED,E]),(0,a.useEffect)((()=>{j&&(0,i.A)({icon:(0,v.jsx)(o.A,{}),title:"Auth on Crestron Proccessor",content:"In order to continue connecting to Crestron Proccessor you will be redirected to auth page.",okText:"Proceed",cancelText:"Cancel",onOk:()=>{window.location.href=j},onCancel:()=>{console.info("Auth process aborted."),x(""),E({xPanelStatus:"disconnected",manualStartConnect:!1})}})}),[j,E])}},32566:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(33490),a=n(9950);const r=e=>{let{initVariableArr:t}=e;const n=(0,a.useMemo)((()=>null!==t&&void 0!==t&&t.length?t.filter((e=>e.joinValueSetter_signal_fb)):[]),[t]);(0,a.useEffect)((()=>{const e=o.c.getState().setInitialVariablesArray;e(t||[])}),[t]),(0,a.useEffect)((()=>{let e=[];if(null!==n&&void 0!==n&&n.length){const t=o.c.getState().setVariableNewValue;return n.forEach((n=>{let o;e.push({subscribe:function(){o=CrComLib.subscribeState(n.type,n.joinValueSetter_signal_fb,(e=>{t({name:n.name,currentValue:e})}))},unsubscribe:function(){CrComLib.unsubscribeState(n.type,n.joinValueSetter_signal_fb,o)}})})),e.map((e=>e.subscribe())),()=>{e.map((e=>e.unsubscribe()))}}}),[n])}}}]);